/*! Ractive - v0.3.7 - 2013-10-14
* Next-generation DOM manipulation

* http://ractivejs.org
* Copyright (c) 2013 Rich Harris; Licensed MIT */

// These are a subset of the easing equations found at
// https://raw.github.com/danro/easing-js - license info
// follows:

// --------------------------------------------------
// easing.js v0.5.4
// Generic set of easing functions with AMD support
// https://github.com/danro/easing-js
// This code may be freely distributed under the MIT license
// http://danro.mit-license.org/
// --------------------------------------------------
// All functions adapted from Thomas Fuchs & Jeremy Kahn
// Easing Equations (c) 2003 Robert Penner, BSD license
// https://raw.github.com/danro/easing-js/master/LICENSE
// --------------------------------------------------

/**
 * @license RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/** @license
 * RequireJS plugin for loading JSON files
 * - depends on Text plugin and it was HEAVILY "inspired" by it as well.
 * Author: Miller Medeiros
 * Version: 0.3.1 (2013/02/04)
 * Released under the MIT license
 */

(function(){(function(e){var t,n="0.3.7",r=e.document||null,i={},s={},o={},u,a,f,l,c,h={},p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q={}.hasOwnProperty,R=function(){},U,z,W,X,V,$,J,K,Q=e.console||{log:R,warn:R},G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ct,ht,pt=/^\s+/,dt=/\s+$/,vt,mt,gt,yt,bt,wt,Et,St,xt,Tt,Nt,Ct,kt,Lt,At,Ot="Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",Mt=1,_t=2,Dt=3,Pt=4,Ht=5,Bt=6,jt=7,Ft=8,It=9,qt=10,Rt=11,Ut=12,zt=15,Wt=20,Xt=21,Vt=22,$t=23,Jt=24,Kt=26,Qt=27,Gt=30,Yt=31,Zt=32,en=33,tn=34,nn=35,rn=36,sn=40,on=r?r.createElement("div"):null,un,an={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};try{try{Object.defineProperty({},"test",{value:0}),Object.defineProperties({},{test:{value:0}})}catch(fn){throw un=!0,fn}r&&(Object.defineProperty(on,"test",{value:0}),Object.defineProperties(on,{test:{value:0}})),B=Object.defineProperty,j=Object.defineProperties}catch(fn){B=function(e,t,n){e[t]=n.value},j=function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&B(e,n,t[n])}}try{Object.create(null),F=Object.create,I=function(){return Object.create(null)}}catch(fn){F=function(){var e=function(){};return function(t,n){var r;return e.prototype=t,r=new e,n&&Object.defineProperties(r,n),r}}(),I=function(){return{}}}var ln=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})},cn,hn,pn;(function(){if(!r)return;on.style.transition!==undefined?(hn="transition",pn="transitionend",cn=!0):on.style.webkitTransition!==undefined?(hn="webkitTransition",pn="webkitTransitionEnd",cn=!0):cn=!1})(),e.Node&&!e.Node.prototype.contains&&e.HTMLElement&&e.HTMLElement.prototype.contains&&(e.Node.prototype.contains=e.HTMLElement.prototype.contains),function(){var e,t,n,r,i,s,o,u,a,f,l;K=function(){var t=this.parentNode,r,i,s;return this.fragment?(r=e(this),r?(this.interpolator=r,this.keypath=r.keypath||r.descriptor.r,i=n(this),i?(t._ractive.binding=i,this.twoway=!0,s=this.root._twowayBindings[this.keypath]||(this.root._twowayBindings[this.keypath]=[]),s[s.length]=i,!0):!1):!1):!1},t=function(){this._ractive.binding.update()},e=function(e){var t;return e.fragment.items.length!==1?null:(t=e.fragment.items[0],t.type!==_t?null:!t.keypath&&!t.ref?null:t)},n=function(e){var t=e.parentNode;if(t.tagName==="SELECT")return t.multiple?new i(e,t):new s(e,t);if(t.type==="checkbox"||t.type==="radio"){if(e.propertyName==="name"){if(t.type==="checkbox")return new u(e,t);if(t.type==="radio")return new o(e,t)}return e.propertyName==="checked"?new a(e,t):null}return e.propertyName!=="value"&&Q.warn("This is... odd"),e.parentNode.type==="file"?new f(e,t):new l(e,t)},i=function(e,n){var i;r(this,e,n),n.addEventListener("change",t,!1),i=this.root.get(this.keypath),i===undefined&&this.update()},i.prototype={value:function(){var e,t,n,r;e=[],t=this.node.options,r=t.length;for(n=0;n<r;n+=1)t[n].selected&&(e[e.length]=t[n]._ractive.value);return e},update:function(){var e,t,n;e=this.attr,t=e.value,n=this.value();if(t===undefined||!kn(n,t))e.receiving=!0,e.value=n,this.root.set(this.keypath,n),e.receiving=!1},teardown:function(){this.node.removeEventListener("change",t,!1)}},s=function(e,n){var i;r(this,e,n),n.addEventListener("change",t,!1),i=this.root.get(this.keypath),i===undefined&&this.update()},s.prototype={value:function(){var e,t,n;e=this.node.options,n=e.length;for(t=0;t<n;t+=1)if(e[t].selected)return e[t]._ractive.value},update:function(){var e=this.value();this.attr.receiving=!0,this.attr.value=e,this.root.set(this.keypath,e),this.attr.receiving=!1},teardown:function(){this.node.removeEventListener("change",t,!1)}},o=function(e,n){var i;this.radioName=!0,r(this,e,n),n.name="{{"+e.keypath+"}}",n.addEventListener("change",t,!1),n.attachEvent&&n.addEventListener("click",t,!1),i=this.root.get(this.keypath),i!==undefined?n.checked=i===n._ractive.value:this.root._defRadios[this.root._defRadios.length]=this},o.prototype={value:function(){return this.node._ractive?this.node._ractive.value:this.node.value},update:function(){var e=this.node;e.checked&&(this.attr.receiving=!0,this.root.set(this.keypath,this.value()),this.attr.receiving=!1)},teardown:function(){this.node.removeEventListener("change",t,!1),this.node.removeEventListener("click",t,!1)}},u=function(e,n){var i,s;this.checkboxName=!0,r(this,e,n),n.name="{{"+this.keypath+"}}",n.addEventListener("change",t,!1),n.attachEvent&&n.addEventListener("click",t,!1),i=this.root.get(this.keypath),i!==undefined?(s=i.indexOf(n._ractive.value)!==-1,n.checked=s):this.root._defCheckboxes.indexOf(this.keypath)===-1&&(this.root._defCheckboxes[this.root._defCheckboxes.length]=this.keypath)},u.prototype={changed:function(){return this.node.checked!==!!this.checked},update:function(){this.checked=this.node.checked,this.attr.receiving=!0,this.root.set(this.keypath,Sn(this.root,this.keypath)),this.attr.receiving=!1},teardown:function(){this.node.removeEventListener("change",t,!1),this.node.removeEventListener("click",t,!1)}},a=function(e,n){r(this,e,n),n.addEventListener("change",t,!1),n.attachEvent&&n.addEventListener("click",t,!1)},a.prototype={value:function(){return this.node.checked},update:function(){this.attr.receiving=!0,this.root.set(this.keypath,this.value()),this.attr.receiving=!1},teardown:function(){this.node.removeEventListener("change",t,!1),this.node.removeEventListener("click",t,!1)}},f=function(e,n){r(this,e,n),n.addEventListener("change",t,!1)},f.prototype={value:function(){return this.attr.parentNode.files},update:function(){this.attr.root.set(this.attr.keypath,this.value())},teardown:function(){this.node.removeEventListener("change",t,!1)}},l=function(e,n){r(this,e,n),n.addEventListener("change",t,!1),this.root.lazy||(n.addEventListener("input",t,!1),n.attachEvent&&n.addEventListener("keyup",t,!1))},l.prototype={value:function(){var e=this.attr.parentNode.value;return+e+""===e&&e.indexOf("e")===-1&&(e=+e),e},update:function(){var e=this.attr,t=this.value();e.receiving=!0,e.root.set(e.keypath,t),e.receiving=!1},teardown:function(){this.node.removeEventListener("change",t,!1),this.node.removeEventListener("input",t,!1),this.node.removeEventListener("keyup",t,!1)}},r=function(e,t,n){e.attr=t,e.node=n,e.root=t.root,e.keypath=t.keypath}}(),function(){var e,t,n,r,i,s,o,u;J=function(){var r;if(!this.ready)return this;r=this.parentNode;if(r.tagName==="SELECT"&&this.name==="value")return this.update=t,this.deferredUpdate=n,this.update();if(this.isFileInputValue)return this.update=e,this;if(this.twoway&&this.name==="name"){if(r.type==="radio")return this.update=s,this.update();if(r.type==="checkbox")return this.update=o,this.update()}return this.update=u,this.update()},e=function(){return this},n=function(){this.deferredUpdate=this.parentNode.multiple?i:r,this.deferredUpdate()},t=function(){return this.root._defSelectValues.push(this),this},r=function(){var e=this.fragment.getValue(),t,n,r;this.value=e,t=this.parentNode.options,r=t.length;while(r--){n=t[r];if(n._ractive.value===e)return n.selected=!0,this}return this},i=function(){var e=this.fragment.getValue(),t,n;x(e)||(e=[e]),t=this.parentNode.options,n=t.length;while(n--)t[n].selected=e.indexOf(t[n]._ractive.value)!==-1;return this.value=e,this},s=function(){var e,t;return e=this.parentNode,t=this.fragment.getValue(),e.checked=t===e._ractive.value,this},o=function(){var e,t;return e=this.parentNode,t=this.fragment.getValue(),x(t)?(e.checked=t.indexOf(e._ractive.value)!==-1,this):(e.checked=t===e._ractive.value,this)},u=function(){var e,t;e=this.parentNode,t=this.fragment.getValue(),this.isValueAttribute&&(e._ractive.value=t),t===undefined&&(t="");if(t!==this.value){if(this.useProperty)return this.receiving||(e[this.propertyName]=t),this.value=t,this;if(this.namespace)return e.setAttributeNS(this.namespace,this.name,t),this.value=t,this;this.name==="id"&&(this.value!==undefined&&(this.root.nodes[this.value]=undefined),this.root.nodes[t]=e),e.setAttribute(this.name,t),this.value=t}return this}}(),U=function(e,t){var n,r,i;for(r in t)if(q.call(t,r)){i=r.split("-"),n=i.length;while(n--)z(e,i[n],t[r],e.parentFragment.contextStack)}},function(){var e,n,r,i,s,o,u,a;z=function(t,n,r,i,s){var o,u;o=t.ractify().events,u=o[n]||(o[n]=new e(t,n,i,s)),u.add(r)},e=function(e,n,r){var i;this.element=e,this.root=e.root,this.node=e.node,this.name=n,this.contextStack=r,this.proxies=[],(i=this.root.eventDefinitions[n]||t.eventDefinitions[n])?this.custom=i(this.node,a(n)):this.node.addEventListener(n,u,!1)},e.prototype={add:function(e){this.proxies[this.proxies.length]=new n(this.element,this.root,e,this.contextStack)},teardown:function(){var e;this.custom?this.custom.teardown():this.node.removeEventListener(this.name,u,!1),e=this.proxies.length;while(e--)this.proxies[e].teardown()},fire:function(e){var t=this.proxies.length;while(t--)this.proxies[t].fire(e)}},n=function(e,t,n,o){var u;this.root=t,u=n.n||n,typeof u=="string"?this.n=u:this.n=new ot({descriptor:n.n,root:this.root,owner:e,contextStack:o});if(n.a){this.a=n.a,this.fire=i;return}if(n.d){this.d=new ot({descriptor:n.d,root:this.root,owner:e,contextStack:o}),this.fire=s;return}this.fire=r},n.prototype={teardown:function(){this.n.teardown&&this.n.teardown(),this.d&&this.d.teardown()},bubble:R},r=function(e){this.root.fire(this.n.toString(),e)},i=function(e){this.root.fire(this.n.toString(),e,this.a)},s=function(e){this.root.fire(this.n.toString(),e,this.d.toJSON())},u=function(e){var t=this._ractive;t.events[e.type].fire({node:this,original:e,index:t.index,keypath:t.keypath,context:t.root.get(t.keypath)})},o={},a=function(e){return o[e]?o[e]:o[e]=function(t){var n=t.node._ractive;t.index=n.index,t.keypath=n.keypath,t.context=n.root.get(n.keypath),n.events[e].fire(t)}}}(),W=function(e,t,n,r){typeof n.f=="string"&&(!t||!t.namespaceURI||t.namespaceURI===an.html)?(e.html=n.f,r&&(t.innerHTML=e.html)):n.e==="style"&&t.styleSheet!==undefined?(e.fragment=new ot({descriptor:n.f,root:e.root,contextStack:e.parentFragment.contextStack,owner:e}),r&&(e.bubble=function(){t.styleSheet.cssText=e.fragment.toString()})):(e.fragment=new G({descriptor:n.f,root:e.root,parentNode:t,contextStack:e.parentFragment.contextStack,owner:e}),r&&t.appendChild(e.fragment.docFrag))},X=function(e,t){e.ractify();switch(e.descriptor.e){case"select":case"textarea":t.value&&t.value.bind();return;case"input":if(e.node.type==="radio"||e.node.type==="checkbox"){if(t.name&&t.name.bind())return;if(t.checked&&t.checked.bind())return}if(t.value&&t.value.bind())return}},V=function(e,t){var n,r,i;e.attributes=[];for(n in t)if(q.call(t,n)){r=t[n],i=new Z({element:e,name:n,value:r,root:e.root,parentNode:e.node,contextStack:e.parentFragment.contextStack}),e.attributes[e.attributes.length]=i;if(n==="value"||n==="name"||n==="checked")e.attributes[n]=i;n!=="name"&&i.update()}return e.attributes},$=function(e,t){return e.a&&e.a.xmlns?e.a.xmlns:e.e.toLowerCase()==="svg"?an.svg:t.namespaceURI},O=function(e,n,r,i,s){var o,u,a,f,l;if(!n.transitionsEnabled)return;typeof e=="string"?o=e:(o=e.n,e.a?u=e.a:e.d&&(a=new ot({descriptor:e.d,root:n,owner:r,contextStack:r.parentFragment.contextStack}),u=a.toJSON(),a.teardown())),l=n.transitions[o]||t.transitions[o],l&&(f=n._transitionManager,f.push(r.node),l.call(n,r.node,function(){f.pop(r.node)},u,s))},_=function(e,t){return e.components[t]},function(){var e={};L=function(t,n,i){var s,o=[];s=e[n]||(e[n]=r.createElement(n)),s.innerHTML=t;while(s.firstChild)o[o.length]=s.firstChild,i.appendChild(s.firstChild);return o}}(),function(){var e,t,n;A=function(t,n,r,i,s){var o,u,a,f,l,c,h;a=n.descriptor.i;for(o=r;o<i;o+=1)u=n.fragments[o],f=o-s,l=o,c=n.keypath+"."+(o-s),h=n.keypath+"."+o,u.index+=s,e(u,a,f,l,s,c,h);E(t)},e=function(r,i,s,o,u,a,f){var l,c,h;r.indexRefs&&r.indexRefs[i]!==undefined&&(r.indexRefs[i]=o),l=r.contextStack.length;while(l--)h=r.contextStack[l],h.substr(0,a.length)===a&&(r.contextStack[l]=h.replace(a,f));l=r.items.length;while(l--){c=r.items[l];switch(c.type){case jt:t(c,i,s,o,u,a,f);break;case Ft:e(c.fragment,i,s,o,u,a,f);break;case Pt:case _t:case Dt:n(c,i,s,o,u,a,f)}}},t=function(t,n,r,i,s,o,u){var a,f,l,c,h,p;a=t.attributes.length;while(a--)f=t.attributes[a],f.fragment&&(e(f.fragment,n,r,i,s,o,u),f.twoway&&f.updateBindings());if(l=t.node._ractive){l.keypath.substr(0,o.length)===o&&(l.keypath=l.keypath.replace(o,u)),n!==undefined&&(l.index[n]=i);for(c in l.events){h=l.events[c].proxies,a=h.length;while(a--)p=h[a],typeof p.n=="object"&&e(p.a,n,r,i,s,o,u),p.d&&e(p.d,n,r,i,s,o,u)}l.binding&&l.binding.keypath.substr(0,o.length)===o&&(l.binding.keypath=l.binding.keypath.replace(o,u))}t.fragment&&e(t.fragment,n,r,i,s,o,u)},n=function(t,n,r,i,s,o,u){var a;t.descriptor.x&&(t.keypath&&m(t),t.expressionResolver&&t.expressionResolver.teardown(),t.expressionResolver=new lt(t)),t.keypath?t.keypath.substr(0,o.length)===o&&t.resolve(t.keypath.replace(o,u)):t.indexRef===n&&(t.value=i,t.render(i));if(t.fragments){a=t.fragments.length;while(a--)e(t.fragments[a],n,r,i,s,o,u)}}}(),function(e){var t,n,r,i,s;ct=function(e,n,i,s,o){var u,a;this.root=e,this.keypath=n,this.priority=o,this.dependants=0,this.fn=r(i,s.length),this.values=[],this.refs=[],u=s.length;while(u--)(a=s[u])?a[0]?this.values[u]=a[1]:this.refs[this.refs.length]=new t(e,a[1],this,u,o):this.values[u]=undefined;this.selfUpdating=this.refs.length<=1},ct.prototype={wake:function(){this.awake=!0,this.update()},sleep:function(){this.awake=!1},bubble:function(){if(!this.awake)return;this.selfUpdating?this.update():this.deferred||(this.root._defEvals[this.root._defEvals.length]=this,this.deferred=!0)},update:function(){var e;if(this.evaluating)return this;this.evaluating=!0;try{e=this.fn.apply(null,this.values)}catch(t){if(this.root.debug)throw t;e=undefined}return C(e,this.value)||(d(this.root,this.keypath),this.root._cache[this.keypath]=e,g(this.root,this.keypath),this.value=e),this.evaluating=!1,this},teardown:function(){while(this.refs.length)this.refs.pop().teardown();d(this.root,this.keypath),this.root._evaluators[this.keypath]=null},refresh:function(){this.selfUpdating||(this.deferred=!0);var e=this.refs.length;while(e--)this.refs[e].update();this.deferred&&(this.update(),this.deferred=!1)},updateSoftDependencies:function(e){var t,r,i;this.softRefs||(this.softRefs=[]),t=this.softRefs.length;while(t--)i=this.softRefs[t],e[i.keypath]||(this.softRefs.splice(t,1),this.softRefs[i.keypath]=!1,i.teardown());t=e.length;while(t--)r=e[t],this.softRefs[r]||(i=new n(this.root,r,this),this.softRefs[this.softRefs.length]=i,this.softRefs[r]=!0);this.selfUpdating=this.refs.length+this.softRefs.length<=1}},t=function(e,t,n,r,i){var o;this.evaluator=n,this.keypath=t,this.root=e,this.argNum=r,this.type=Gt,this.priority=i,o=e.get(t),typeof o=="function"&&(o=o._wrapped||s(o,e,n)),this.value=n.values[r]=o,v(this)},t.prototype={update:function(){var e=this.root.get(this.keypath);typeof e=="function"&&!e._nowrap&&(e=e["_"+this.root._guid]||s(e,this.root,this.evaluator)),C(e,this.value)||(this.evaluator.values[this.argNum]=e,this.evaluator.bubble(),this.value=e)},teardown:function(){m(this)}},n=function(e,t,n){this.root=e,this.keypath=t,this.priority=n.priority,this.evaluator=n,v(this)},n.prototype={update:function(){var e=this.root.get(this.keypath);C(e,this.value)||(this.evaluator.bubble(),this.value=e)},teardown:function(){m(this)}},r=function(t,n){var r,i;t=t.replace(/\$\{([0-9]+)\}/g,"_$1");if(e[t])return e[t];i=[];while(n--)i[n]="_"+n;return r=new Function(i.join(","),"return("+t+")"),e[t]=r,r},i=/this/,s=function(e,t,n){var r;if(!i.test(e.toString()))return B(e,"_nowrap",{value:!0}),e;B(e,"_"+t._guid,{value:function(){var r,i,s;return r=t.get,t.get=function(e){return s||(s=[]),s[e]||(s[s.length]=e,s[e]=!0),r.call(t,e)},i=e.apply(t,arguments),s&&n.updateSoftDependencies(s),t.get=r,i},writable:!0});for(r in e)q.call(e,r)&&(e["_"+t._guid][r]=e[r]);return e["_"+t._guid]}}({}),function(){var e,t;lt=function(t){var n,r,i,s,o;this.root=t.root,this.mustache=t,this.args=[],this.scouts=[],n=t.descriptor.x,o=t.parentFragment.indexRefs,this.str=n.s,i=this.unresolved=this.args.length=n.r?n.r.length:0;if(!i){this.resolved=this.ready=!0,this.bubble();return}for(r=0;r<i;r+=1)s=n.r[r],o&&o[s]!==undefined?this.resolveRef(r,!0,o[s]):this.scouts[this.scouts.length]=new e(this,s,t.contextStack,r);this.ready=!0,this.bubble()},lt.prototype={bubble:function(){if(!this.ready)return;this.keypath=t(this.str,this.args),this.createEvaluator(),this.mustache.resolve(this.keypath)},teardown:function(){while(this.scouts.length)this.scouts.pop().teardown()},resolveRef:function(e,t,n){this.args[e]=[t,n],this.bubble(),this.resolved=!--this.unresolved},createEvaluator:function(){this.root._evaluators[this.keypath]?this.root._evaluators[this.keypath].refresh():this.root._evaluators[this.keypath]=new ct(this.root,this.keypath,this.str,this.args,this.mustache.priority)}},e=function(e,t,n,r){var i,s;s=this.root=e.root,i=w(s,t,n),i?e.resolveRef(r,!1,i):(this.ref=t,this.argNum=r,this.resolver=e,this.contextStack=n,s._pendingResolution[s._pendingResolution.length]=this)},e.prototype={resolve:function(e){this.keypath=e,this.resolver.resolveRef(this.argNum,!1,e)},teardown:function(){this.keypath||p(this)}},t=function(e,t){var n;return n=e.replace(/\$\{([0-9]+)\}/g,function(e,n){return t[n]?t[n][1]:"undefined"}),"("+n.replace(/[\.\[\]]/g,"-")+")"}}(),function(){var e,n;M=function(i,s){var o,u;if(u=e(i,s))return u;if(u=e(t,s))return u;if(r){o=r.getElementById(s);if(o&&o.tagName==="SCRIPT"){if(!t.parse)throw new Error(Ot);t.partials[s]=t.parse(o.innerHTML)}}return u=t.partials[s],u?n(u):(i.debug&&Q&&Q.warn&&Q.warn('Could not find descriptor for partial "'+s+'"'),[])},e=function(e,r){var i,s;if(e.partials[r]){if(typeof e.partials[r]=="string"){if(!t.parse)throw new Error(Ot);i=t.parse(e.partials[r],e.parseOptions);if(T(i)){e.partials[r]=i.main;for(s in i.partials)i.partials.hasOwnProperty(s)&&(e.partials[s]=i.partials[s])}else e.partials[r]=i}return n(e.partials[r])}},n=function(e){return e.length===1&&typeof e[0]=="string"?e[0]:e}}(),bt=function(e,t){var n,r,i,s,o;e.owner=t.owner,i=e.owner.parentFragment,e.root=t.root,e.parentNode=t.parentNode,e.contextStack=t.contextStack||[],e.owner.type===Pt&&(e.index=t.index);if(i){s=i.indexRefs;if(s){e.indexRefs=I();for(o in s)e.indexRefs[o]=s[o]}}e.priority=i?i.priority+1:1,t.indexRef&&(e.indexRefs||(e.indexRefs={}),e.indexRefs[t.indexRef]=t.index),e.items=[],n=t.descriptor?t.descriptor.length:0;for(r=0;r<n;r+=1)e.items[e.items.length]=e.createItem({parentFragment:e,descriptor:t.descriptor[r],index:r})},D=function(e){var t,n,r;t=e.items.length;while(t--){n=e.items[t];if(n.type===Mt)continue;if(n.type===_t){if(r)return!1;r=!0;continue}return!1}return!0},mt=function(e,t){var n,r,i;i=e.parentFragment=t.parentFragment,e.root=i.root,e.contextStack=i.contextStack,e.descriptor=t.descriptor,e.index=t.index||0,e.priority=i.priority,i.parentNode&&(e.parentNode=i.parentNode),e.type=t.descriptor.t,t.descriptor.r&&(i.indexRefs&&i.indexRefs[t.descriptor.r]!==undefined?(r=i.indexRefs[t.descriptor.r],e.indexRef=t.descriptor.r,e.value=r,e.render(e.value)):(n=w(e.root,t.descriptor.r,e.contextStack),n?e.resolve(n):(e.ref=t.descriptor.r,e.root._pendingResolution[e.root._pendingResolution.length]=e,e.descriptor.n&&e.render(!1)))),t.descriptor.x&&(e.expressionResolver=new lt(e))},gt=function(){var e=this.root.get(this.keypath,!0);C(e,this.value)||(this.render(e),this.value=e)},yt=function(e){this.resolved&&m(this),this.keypath=e,v(this),this.update(),this.expressionResolver&&this.expressionResolver.resolved&&(this.expressionResolver=null),this.resolved=!0},function(){var e,t,n,r;wt=function(i,s){var o;o={descriptor:i.descriptor.f,root:i.root,parentNode:i.parentNode,owner:i};if(i.descriptor.n){r(i,s,!0,o);return}x(s)?e(i,s,o):T(s)?i.descriptor.i?t(i,s,o):n(i,o):r(i,s,!1,o)},e=function(e,t,n){var r,i,s;i=t.length;if(i<e.length){s=e.fragments.splice(i,e.length-i);while(s.length)s.pop().teardown(!0)}else if(i>e.length)for(r=e.length;r<i;r+=1)n.contextStack=e.contextStack.concat(e.keypath+"."+r),n.index=r,e.descriptor.i&&(n.indexRef=e.descriptor.i),e.fragments[r]=e.createFragment(n);e.length=i},t=function(e,t,n){var r,i;i=e.fragmentsById||(e.fragmentsById=I());for(r in i)t[r]===undefined&&i[r]&&(i[r].teardown(!0),i[r]=null);for(r in t)t[r]!==undefined&&!i[r]&&(n.contextStack=e.contextStack.concat(e.keypath+"."+r),n.index=r,e.descriptor.i&&(n.indexRef=e.descriptor.i),i[r]=e.createFragment(n))},n=function(e,t){e.length||(t.contextStack=e.contextStack.concat(e.keypath),t.index=0,e.fragments[0]=e.createFragment(t),e.length=1)},r=function(e,t,n,r){var i,s,o;s=x(t)&&t.length===0,n?i=s||!t:i=t&&!s;if(i){e.length||(r.contextStack=e.contextStack,r.index=0,e.fragments[0]=e.createFragment(r),e.length=1);if(e.length>1){o=e.fragments.splice(1);while(o.length)o.pop().teardown(!0)}}else e.length&&(e.teardownFragments(!0),e.length=0)}}();var dn;(function(){var e,t,n;dn=function(r,i){return r.next()?e(r,i)||t(r,i)||n(r,i):null},e=function(e,t){var n=e.next();return n.type===Mt?(e.pos+=1,new Pn(n,t)):null},t=function(e,t){var n=e.next();return n.type===Rt||n.type===Dt?n.mustacheType===Pt||n.mustacheType===Ht?new Dn(n,e,t):new _n(n,e):null},n=function(e,t){var n=e.next(),r;if(n.type===Ut)return r=new An(n,e,t),e.options.sanitize&&e.options.sanitize.elements&&e.options.sanitize.elements.indexOf(r.lcTag)!==-1?null:r;return null}})();var vn=function(e,t){var n,r;if(!t){n=mn(e);if(n!==!1)return n}return r=e.map(function(e){return e.toJSON(t)}),r},mn=function(e){var t="",n,r,i;if(!e)return"";for(r=0,i=e.length;r<i;r+=1){n=e[r].toString();if(n===!1)return!1;t+=n}return t},gn=function(e){var t=pt.exec(e.str.substring(e.pos));return t?(e.pos+=t[0].length,t[0]):null},yn=function(e,t){var n=e.remaining().substr(0,40);throw n.length===40&&(n+="..."),new Error('Tokenizer failed: unexpected string "'+n+'" (expected '+t+")")},bn=function(e){return function(t){var n=e.exec(t.str.substring(t.pos));return n?(t.pos+=n[0].length,n[1]||n[0]):null}},wn=function(e,t){var n;return n=e.str.substr(e.pos,t.length),n===t?(e.pos+=t.length,t):null};kt=function(e){var t,n,r,i;for(t=0;t<e.length;t+=1){n=e[t],r=e[t-1],i=e[t+1];if(n.mustacheType===It||n.mustacheType===qt)e.splice(t,1),r&&i&&r.type===Mt&&i.type===Mt&&(r.value+=i.value,e.splice(t,1)),t-=1}return e},Lt=function(e){var t,n,r;r="";while(e.length){t=e.indexOf("<!--"),n=e.indexOf("-->");if(t===-1&&n===-1){r+=e;break}if(t!==-1&&n===-1)throw"Illegal HTML - expected closing comment sequence ('-->')";if(n!==-1&&t===-1||n<t)throw"Illegal HTML - unexpected closing comment sequence ('-->')";r+=e.substr(0,t),e=e.substring(n+3)}return r},At=function(e){var t,n,r,i,s,o;s=/^\s*\r?\n/,o=/\r?\n\s*$/;for(t=2;t<e.length;t+=1)n=e[t],r=e[t-1],i=e[t-2],n.type===Mt&&r.type===Rt&&i.type===Mt&&o.test(i.value)&&s.test(n.value)&&(r.mustacheType!==_t&&r.mustacheType!==Dt&&(i.value=i.value.replace(o,"\n")),n.value=n.value.replace(s,""),n.value===""&&e.splice(t--,1));return e},function(e){var t=function(e,t,n){var r;if(typeof t!="string"||!N(n)){if(e.debug)throw new Error("Bad arguments");return}r=e.get(t),r===undefined&&(r=0);if(!N(r)){if(e.debug)throw new Error("Cannot add to a non-numeric value");return}e.set(t,r+n)};e.add=function(e,n){t(this,e,n===undefined?1:n)},e.subtract=function(e,n){t(this,e,n===undefined?-1:-n)},e.toggle=function(e){var t;if(typeof e!="string"){if(this.debug)throw new Error("Bad arguments");return}t=this.get(e),this.set(e,!t)}}(i),function(e){var n,r;e.animate=function(e,t,r){var i,s,o;if(typeof e=="object"){r=t||{},o=[];for(i in e)q.call(e,i)&&(o[o.length]=n(this,i,e[i],r));return{stop:function(){while(o.length)o.pop().stop()}}}return r=r||{},s=n(this,e,t,r),{stop:function(){s.stop()}}},r={stop:R},n=function(e,n,i,s){var o,u,a,f,l;l=e.get(n),f=Et.animations.length;while(f--)a=Et.animations[f],a.root===e&&a.keypath===n&&a.stop();return C(l,i)?(s.complete&&s.complete(1,s.to),r):(s.easing&&(typeof s.easing=="function"?o=s.easing:e.easing&&e.easing[s.easing]?o=e.easing[s.easing]:o=t.easing[s.easing],typeof o!="function"&&(o=null)),u=s.duration===undefined?400:s.duration,a=new ht({keypath:n,from:l,to:i,root:e,duration:u,easing:o,step:s.step,complete:s.complete}),Et.push(a),e._animations[e._animations.length]=a,a)}}(i),i.cancelFullscreen=function(){t.cancelFullscreen(this.el)},i.find=function(e){return this.el?this.el.querySelector(e):null},function(){var e,t;i.findAll=function(n,r){var i;if(!this.el)return[];if(r){if(e.test(n))return this.el.getElementsByTagName(n);if(t.test(n))return this.el.getElementsByClassName(n.substring(1));i='Could not generate live nodelist from "'+n+'" selector';if(this.debug)throw new Error(i);Q&&Q.warn&&Q.warn(i)}return this.el.querySelectorAll(n)},e=/^[a-zA-Z][a-zA-Z0-9\-]*$/,t=/^\.[^\s]+$/g}(),i.fire=function(e){var t,n,r,i=this._subs[e];if(!i)return;t=Array.prototype.slice.call(arguments,1);for(n=0,r=i.length;n<r;n+=1)i[n].apply(this,t)},function(e){var n,r,i,s={},o;e.get=function(e){var t,r,i,s,u;return e=Ln(e||""),t=this._cache,(r=t[e])!==undefined?r:((s=this._wrapped[e])?i=s.value:e?(u=this._evaluators[e])?i=u.value:i=n(this,e):(o(this,"",this.data),i=this.data),t[e]=i,i)},n=function(e,n){var r,i,s,u,a,f,l,c;r=n.split("."),i=r.pop(),s=r.join("."),u=e.get(s);if(c=e._wrapped[s])u=c.get();if(u===null||u===undefined)return;return(a=e._cacheMap[s])?a.indexOf(n)===-1&&(a[a.length]=n):e._cacheMap[s]=[n],f=u[i],o(e,n,f)?f:(e.magic&&(e._wrapped[n]=t.adaptors.magic.wrap(e,f,n)),e.modifyArrays&&(l=t.adaptors.array,l.filter(e,f,n)&&(e._wrapped[n]=l.wrap(e,f,n))),e._cache[n]=f,f)},r=function(e,t){var n={},r;if(!t)return e;t+=".";for(r in e)q.call(e,r)&&(n[t+r]=e[r]);return n},i=function(e){var t;return s[e]||(t=e?e+".":"",s[e]=function(n,i){var s;if(typeof n=="string")return s={},s[t+n]=i,s;if(typeof n=="object")return t?r(n,e):n}),s[e]},o=function(e,n,r){var s,o,u;s=e.adaptors.length;while(s--){o=e.adaptors[s];if(typeof o=="string"){if(!t.adaptors[o])throw new Error('Missing adaptor "'+o+'"');o=e.adaptors[s]=t.adaptors[o]}if(o.filter(r,n,e))return u=e._wrapped[n]=o.wrap(e,r,n,i(n)),e._cache[n]=r,!0}}}(i);var En=function(e){var t,n,r;t=e._pendingResolution.length;while(t--)n=e._pendingResolution.splice(t,1)[0],r=w(e,n.ref,n.contextStack),r!==undefined?n.resolve(r):e._pendingResolution[e._pendingResolution.length]=n};d=function(e,t){var n,r;(r=e._wrapped[t])&&r.teardown()!==!1&&(e._wrapped[t]=null),e._cache[t]=undefined;if(n=e._cacheMap[t])while(n.length)d(e,n.pop())};var Sn=function(e,t){var n,r,i,s,o,u;n=[],u=e.rendered?e.el:e.fragment.docFrag,r=u.querySelectorAll('input[type="checkbox"][name="{{'+t+'}}"]'),s=r.length;for(o=0;o<s;o+=1){i=r[o];if(i.hasAttribute("checked")||i.checked)n[n.length]=i._ractive.value}return n};g=function(e,t,n){var r;for(r=0;r<e._deps.length;r+=1)b(e,t,r,n)},b=function(e,t,n,r){var i,s,o,u;i=e._deps[n];if(!i)return;s=i[t];if(s){o=s.length;while(o--)s[o].update()}if(r)return;u=e._depsMap[t];if(u){o=u.length;while(o--)b(e,u[o],n)}},y=function(e,t,n){var r,i,s;s=t.length;for(r=0;r<e._deps.length;r+=1)if(e._deps[r]){i=s;while(i--)b(e,t[i],r,n)}},E=function(e){var t,n,r;while(e._defEvals.length)t=e._defEvals.pop(),t.update().deferred=!1;while(e._defAttrs.length)n=e._defAttrs.pop(),n.update().deferred=!1;while(e._defSelectValues.length)e._defSelectValues.pop().deferredUpdate();while(e._defCheckboxes.length)r=e._defCheckboxes.pop(),e.set(r,Sn(e,r));while(e._defRadios.length)e._defRadios.pop().update();while(e._defObservers.length)e._defObservers.pop().update(!0)},v=function(e){var t,n,r,i,s,o,u,a,f;o=e.root,u=e.keypath,a=e.priority,t=o._deps[a]||(o._deps[a]={}),n=t[u]||(t[u]=[]),n[n.length]=e;if(f=o._evaluators[u])f.dependants||f.wake(),f.dependants+=1;r=u.split(".");while(r.length)r.pop(),i=r.join("."),s=o._depsMap[i]||(o._depsMap[i]=[]),s[u]===undefined&&(s[u]=0,s[s.length]=u),s[u]+=1,u=i},vt=function(e,t){var n,r;n=t.el?k(t.el):e.el,n&&!t.append&&(n.innerHTML=""),e._transitionManager=r=P(e,t.complete),e.fragment=new G({descriptor:e.template,root:e,owner:e,parentNode:n}),E(e),n&&n.appendChild(e.fragment.docFrag),e._transitionManager=null,r.ready(),e.rendered=!0},w=function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p;p='Could not resolve reference - too many "../" prefixes';if(t===".")return n.length?n[n.length-1]:"";if(t.charAt(0)==="."){h=n[n.length-1],s=h?h.split("."):[];if(t.substr(0,3)==="../"){while(t.substr(0,3)==="../"){if(!s.length)throw new Error(p);s.pop(),t=t.substring(3)}return s.push(t),s.join(".")}return h?h+t:t.substring(1)}r=t.split("."),i=r.pop(),u=r.length?"."+r.join("."):"",n=n.concat();while(n.length){o=n.pop(),a=o+u,f=e.get(a);if(l=e._wrapped[a])f=l.get();if(typeof f=="object"&&f!==null&&q.call(f,i)){c=o+"."+t;break}}return!c&&e.get(t)!==undefined&&(c=t),c},p=function(e){if(!e.keypath){var t=e.root._pendingResolution.indexOf(e);t!==-1&&e.root._pendingResolution.splice(t,1)}else m(e)},m=function(e){var t,n,r,i,s,o,u,a;s=e.root,o=e.keypath,u=e.priority,t=s._deps[u][o],t.splice(t.indexOf(e),1),n=o.split(".");if(a=s._evaluators[o])a.dependants-=1,a.dependants||a.sleep();while(n.length)n.pop(),r=n.join("."),i=s._depsMap[r],i[o]-=1,i[o]||(i.splice(i.indexOf(o),1),i[o]=undefined),o=r},i.link=function(e){var t=this;return function(n){t.set(e,n)}},function(e){var t,n;e.observe=function(e,n,r){var i=[],s;if(typeof e=="object"){r=n||{};for(s in e)q.call(e,s)&&(n=e[s],i[i.length]=t(this,s,n,r));return{cancel:function(){while(i.length)i.pop().cancel()}}}return t(this,e,n,r||{})},t=function(e,t,r,i){var s;return s=new n(e,t,r,i),i.init!==!1&&s.update(),s.ready=!0,v(s),{cancel:function(){m(s)}}},n=function(e,t,n,r){this.root=e,this.keypath=t,this.callback=n,this.defer=r.defer,this.priority=0,this.context=r.context||e},n.prototype={update:function(e){var t;if(this.defer&&!e&&this.ready){this.root._defObservers.push(this);return}if(this.updating)return;this.updating=!0,t=this.root.get(this.keypath,!0);if(!C(t,this.value)||!this.ready){try{this.callback.call(this.context,t,this.value)}catch(n){if(this.root.debug)throw n}this.value=t}this.updating=!1}}}(i),i.off=function(e,t){var n,r;t||(e?this._subs[e]=[]:this._subs={}),n=this._subs[e],n&&(r=n.indexOf(t),r!==-1&&n.splice(r,1))},i.on=function(e,t){var n=this,r,i;if(typeof e=="object"){r=[];for(i in e)q.call(e,i)&&(r[r.length]=this.on(i,e[i]));return{cancel:function(){while(r.length)r.pop().cancel()}}}return this._subs[e]?this._subs[e].push(t):this._subs[e]=[t],{cancel:function(){n.off(e,t)}}},i.renderHTML=function(){return this.fragment.toString()},i.requestFullscreen=function(){t.requestFullscreen(this.el)},i.reset=function(e,t){var n,r;typeof e=="function"&&(t=e,e={});if(e!==undefined&&typeof e!="object")throw new Error("The reset method takes either no arguments, or an object containing new data");r=this._transitionManager,this._transitionManager=n=P(this,t),this.data=e||{},this._pendingResolution.length&&En(this),d(this,""),g(this,""),this.fire("reset",e),this._transitionManager=r,n.ready()},function(e){var t,n,r;e.set=function(e,r,i){var s,o,u,a,f,l,c;o=[],T(e)&&(s=e,i=r);if(s)for(e in s)q.call(s,e)&&(r=s[e],e=Ln(e),t(this,e,r,o));else e=Ln(e),t(this,e,r,o);if(!o.length)return;a=this._transitionManager,this._transitionManager=f=P(this,i),u=n(o),u.length&&y(this,u,!0),y(this,o),this._pendingResolution.length&&En(this),E(this),this._transitionManager=a,f.ready();if(!this.firingChangeEvent){this.firingChangeEvent=!0,c={},l=o.length;while(l--)c[o[l]]=this.get(o[l]);this.fire("change",c),this.firingChangeEvent=!1}return this},t=function(e,t,n,i){var s,o,u,a,f,l,c,h,p;if((p=e._wrapped[t])&&p.reset&&r(e,t,n,p,i)!==!1)return;s=e._cache[t],u=e.get(t),o=t.split("."),l=[];if(u!==n){(p=e._wrapped[""])?(p.set&&p.set(o.join("."),n),f=p.get()):f=e.data;while(o.length>1)a=l[l.length]=o.shift(),c=l.join("."),(p=e._wrapped[c])?(p.set&&p.set(o.join("."),n),f=p.get()):(f[a]||(h||(h=c),f[a]=/^\s*[0-9]+\s*$/.test(o[0])?[]:{}),f=f[a]);a=o[0],f[a]=n}else if(n===s&&typeof n!="object")return;d(e,h||t),i[i.length]=t},n=function(e){var t=[""],n,r,i,s;n=e.length;while(n--){r=e[n],i=r.split(".");while(i.length>1)i.pop(),s=i.join("."),t[s]||(t[t.length]=s,t[s]=!0)}return t},r=function(e,t,n,r,i){var s,o,u,a;s=r.get();if(!C(s,n)&&r.reset(n)===!1)return!1;n=r.get(),o=e._cache[t];if(!C(o,n)){e._cache[t]=n,u=e._cacheMap[t];if(u){a=u.length;while(a--)d(e,u[a])}i[i.length]=t}}}(i),i.teardown=function(e){var t,n,r;this.fire("teardown"),r=this._transitionManager,this._transitionManager=n=P(this,e),this.fragment.teardown(!0);while(this._animations[0])this._animations[0].stop();for(t in this._cache)d(this,t);this._transitionManager=r,n.ready()},i.toggleFullscreen=function(){t.isFullscreen(this.el)?this.cancelFullscreen():this.requestFullscreen()},i.update=function(e,t){var n,r;return typeof e=="function"&&(t=e,e=""),En(this),r=this._transitionManager,this._transitionManager=n=P(this,t),d(this,e||""),g(this,e||""),E(this),this._transitionManager=r,n.ready(),typeof e=="string"?this.fire("update",e):this.fire("update"),this},function(e){var t;e.updateModel=function(e,n){var r,i,s;typeof e!="string"&&(e="",n=!0),t(this,e,r={},i=[],n);if(s=i.length)while(s--)e=i[s],r[e]=Sn(this,e);this.set(r)},t=function(e,n,r,i,s){var o,u,a,f,l,c;o=e._twowayBindings[n];if(o){a=o.length;while(a--){f=o[a];if(f.radioName&&!f.node.checked)continue;if(f.checkboxName){f.changed()&&!i[n]&&(i[n]=!0,i[i.length]=n);continue}l=f.attr.value,c=f.value();if(kn(l,c))continue;C(l,c)||(r[n]=c)}}if(!s)return;u=e._depsMap[n];if(u){a=u.length;while(a--)t(e,u[a],r,i,s)}}}(i),function(){var e,t,n,r,i,o,u;s.array={filter:function(e,t,n){return n.charAt(0)!=="("&&x(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(e,n,r){return new t(e,n,r)}},t=function(e,t,n){this.root=e,this.value=t,this.keypath=n,St(t,n,e)},t.prototype={get:function(){return this.value},teardown:function(){if(this.value._ractive.setting)return!1;xt(this.value,this.keypath,this.root)}},St=function(e,t,r){var i,s,o;e._ractive?(i=e._ractive.roots,s=e._ractive.keypathsByGuid,s[r._guid]||(i[i.length]=r,s[r._guid]=[]),o=s[r._guid],o.indexOf(t)===-1&&(o[o.length]=t)):(B(e,"_ractive",{value:{roots:[r],keypathsByGuid:{}},configurable:!0}),e._ractive.keypathsByGuid[r._guid]=[t],n(e))},xt=function(e,t,n){var i,s,o,u;if(!e._ractive)throw new Error("Attempted to remove keypath from non-wrapped array. This error is unexpected - please send a bug report to @rich_harris");i=e._ractive.roots,s=e._ractive.keypathsByGuid;if(!s[n._guid])throw new Error("Ractive instance was not listed as a dependent of this array. This error is unexpected - please send a bug report to @rich_harris");o=s[n._guid],u=o.indexOf(t);if(u===-1)throw new Error("Attempted to unlink non-linked keypath from array. This error is unexpected - please send a bug report to @rich_harris");o.splice(u,1),o.length||(i.splice(i.indexOf(n),1),s[n._guid]=null),i.length||r(e)},e=function(e,t,n){var r,i,s,o,u,a;a=e._ractive.keypathsByGuid,r=function(e){var t=e.length;while(t--)i(e[t])},i=function(e){var t=e._transitionManager,n;e._transitionManager=n=P(e,R),s(e,a[e._guid]),e._transitionManager=t,n.ready()},s=function(e,t){var n=t.length;while(n--)o(e,t[n])},o=function(r,i){var s,o,a,f,l,c,h,p,v,m,b,w;if(t==="sort"||t==="reverse"){r.set(i,e);return}d(r,i),l=[],c=[];for(h=0;h<r._deps.length;h+=1){s=r._deps[h];if(!s)continue;o=s[i];if(o){u(r,i,o,l,c),E(r);while(l.length)l.pop().smartUpdate(t,n);while(c.length)c.pop().update()}}if(t==="splice"&&n.length>2&&n[1]){p=Math.min(n[1],n.length-2),v=n[0],m=v+p,n[1]===n.length-2&&(w=!0);for(h=v;h<m;h+=1)b=i+"."+h,g(r,b)}E(r),f=[],a=i.split(".");while(a.length)a.pop(),f[f.length]=a.join(".");y(r,f,!0),w||g(r,i+".length",!0)},u=function(e,t,n,r,i){var s,o;s=n.length;while(s--)o=n[s],o.type===Gt?o.update():o.keypath===t&&o.type===Pt&&o.parentNode?r[r.length]=o:i[i.length]=o},r(e._ractive.roots)},i=[],u=["pop","push","reverse","shift","sort","splice","unshift"],u.forEach(function(t){var n=function(){var n=Array.prototype[t].apply(this,arguments);return this._ractive.setting=!0,e(this,t,arguments),this._ractive.setting=!1,n};B(i,t,{value:n})}),o={},o.__proto__?(n=function(e){e.__proto__=i},r=function(e){delete e._ractive,e.__proto__=Array.prototype}):(n=function(e){var t,n;t=u.length;while(t--)n=u[t],B(e,n,{value:i[n],configurable:!0})},r=function(e){var t;t=u.length;while(t--)delete e[u[t]];delete e._ractive})}(),function(){var e;s.magic={wrap:function(t,n,r){return new e(t,n,r)}},e=function(e,t,n){var r=this,i,s,o,u,a,f,l,c,h;this.ractive=e,this.keypath=n,i=n.split("."),this.prop=i.pop(),o=i.join("."),this.obj=e.get(o),u=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop);if(u&&u.set&&(a=u.set._ractiveWrappers)){a.indexOf(this)===-1&&(a[a.length]=this);return}if(u&&!u.configurable)throw new Error('Cannot use magic mode with property "'+s+'" - object is not configurable');u&&(this.value=u.value,f=u.get,l=u.set),c=f||function(){return r.value},h=function(e){var t,n,r;l&&l(e),t=h._ractiveWrappers,r=t.length;while(r--)n=t[r],n.resetting||n.ractive.set(n.keypath,e)},h._ractiveWrappers=[this],Object.defineProperty(this.obj,this.prop,{get:c,set:h,enumerable:!0,configurable:!0})},e.prototype={get:function(){return this.value},reset:function(e){this.resetting=!0,this.value=e,this.obj[this.prop]=e,this.resetting=!1},teardown:function(){var e,t,n,r;e=Object.getOwnPropertyDescriptor(this.obj,this.prop),t=e.set,r=t._ractiveWrappers,r.splice(r.indexOf(this),1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor),this.obj[this.prop]=n)}}}(),u={linear:function(e){return e},easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}},o.hover=function(e,t){var n,r;return n=function(n){if(e.contains(n.relatedTarget))return;t({node:e,original:n,hover:!0})},r=function(n){if(e.contains(n.relatedTarget))return;t({node:e,original:n,hover:!1})},e.addEventListener("mouseover",n,!1),e.addEventListener("mouseout",r,!1),{teardown:function(){e.removeEventListener("mouseover",n,!1),e.removeEventListener("mouseout",r,!1)}}},function(){var e=function(e){return function(t,n){var r;return t.addEventListener("keydown",r=function(r){var i=r.which||r.keyCode;i===e&&(r.preventDefault(),n({node:t,original:r}))},!1),{teardown:function(){t.removeEventListener("keydown",r,!1)}}}};o.enter=e(13),o.tab=e(9),o.escape=e(27),o.space=e(32),o.leftarrow=e(37),o.rightarrow=e(39),o.downarrow=e(40),o.uparrow=e(38)}(),o.tap=function(e,t){var n,i,s,o,u;o=5,u=400,n=function(n){var i,s,a,f,l,c,h;if(n.which!==undefined&&n.which!==1)return;s=n.clientX,a=n.clientY,i=this,f=n.pointerId,l=function(e){if(e.pointerId!=f)return;t({node:i,original:e}),h()},c=function(e){if(e.pointerId!=f)return;(Math.abs(e.clientX-s)>=o||Math.abs(e.clientY-a)>=o)&&h()},h=function(){e.removeEventListener("MSPointerUp",l,!1),r.removeEventListener("MSPointerMove",c,!1),r.removeEventListener("MSPointerCancel",h,!1),e.removeEventListener("pointerup",l,!1),r.removeEventListener("pointermove",c,!1),r.removeEventListener("pointercancel",h,!1),e.removeEventListener("click",l,!1),r.removeEventListener("mousemove",c,!1)},window.navigator.pointerEnabled?(e.addEventListener("pointerup",l,!1),r.addEventListener("pointermove",c,!1),r.addEventListener("pointercancel",h,!1)):window.navigator.msPointerEnabled?(e.addEventListener("MSPointerUp",l,!1),r.addEventListener("MSPointerMove",c,!1),r.addEventListener("MSPointerCancel",h,!1)):(e.addEventListener("click",l,!1),r.addEventListener("mousemove",c,!1)),setTimeout(h,u)},window.navigator.pointerEnabled?e.addEventListener("pointerdown",n,!1):window.navigator.msPointerEnabled?e.addEventListener("MSPointerDown",n,!1):e.addEventListener("mousedown",n,!1),i=function(n){var r,i,s,a,f,l,c,h;if(n.touches.length!==1)return;a=n.touches[0],i=a.clientX,s=a.clientY,r=this,f=a.identifier,c=function(e){var n;n=e.changedTouches[0],n.identifier!==f&&h(),e.preventDefault(),t({node:r,original:e}),h()},l=function(e){var t;(e.touches.length!==1||e.touches[0].identifier!==f)&&h(),t=e.touches[0],(Math.abs(t.clientX-i)>=o||Math.abs(t.clientY-s)>=o)&&h()},h=function(){e.removeEventListener("touchend",c,!1),window.removeEventListener("touchmove",l,!1),window.removeEventListener("touchcancel",h,!1)},e.addEventListener("touchend",c,!1),window.addEventListener("touchmove",l,!1),window.addEventListener("touchcancel",h,!1),setTimeout(h,u)},e.addEventListener("touchstart",i,!1);if(e.tagName==="BUTTON"||e.type==="button")s=function(){var n,r;r=function(n){n.which===32&&t({node:e,original:n})},n=function(){e.removeEventListener("keydown",r,!1),e.removeEventListener("blur",n,!1)},e.addEventListener("keydown",r,!1),e.addEventListener("blur",n,!1)},e.addEventListener("focus",s,!1);return{teardown:function(){e.removeEventListener("pointerdown",n,!1),e.removeEventListener("MSPointerDown",n,!1),e.removeEventListener("mousedown",n,!1),e.removeEventListener("touchstart",i,!1),e.removeEventListener("focus",s,!1)}}},function(){var e,n,i,s,o,u,f,l,c,h,p,d,v;a=function(e){var n=this,r;return r=function(e){h(this,r,e||{})},r.prototype=F(n.prototype),n!==t&&s(r,n),u(r,e),f(r),l(r,e),c(r),r.extend=n.extend,r},p=["data","partials","transitions","eventDefinitions","components"],d=["el","template","complete","modifyArrays","twoway","lazy","append","preserveWhitespace","sanitize","noIntro","transitionsEnabled"],v=p.concat(d),s=function(e,t){p.forEach(function(r){t[r]&&(e[r]=n(t[r]))}),d.forEach(function(n){t[n]!==undefined&&(e[n]=t[n])})},o=function(e,t){return/_super/.test(e)?function(){var n=this._super,r;return this._super=t,r=e.apply(this,arguments),this._super=n,r}:e},u=function(e,t){var n,r;p.forEach(function(n){var r=t[n];r&&(e[n]?i(e[n],r):e[n]=r)}),d.forEach(function(n){t[n]!==undefined&&(e[n]=t[n])});for(n in t)q.call(t,n)&&!q.call(e.prototype,n)&&v.indexOf(n)===-1&&(r=t[n],typeof r=="function"&&typeof e.prototype[n]=="function"?e.prototype[n]=o(r,e.prototype[n]):e.prototype[n]=r)},f=function(e){var n;if(typeof e.template=="string"){if(!t.parse)throw new Error(Ot);if(e.template.charAt(0)==="#"&&r){n=r.getElementById(e.template.substring(1));if(!n||n.tagName!=="SCRIPT")throw new Error("Could not find template element ("+e.template+")");e.template=t.parse(n.innerHTML,e)}else e.template=t.parse(e.template,e)}},l=function(e,t){T(e.template)&&(e.partials||(e.partials={}),i(e.partials,e.template.partials),t.partials&&i(e.partials,t.partials),e.template=e.template.main)},c=function(e){var n,r;if(e.partials)for(n in e.partials)if(q.call(e.partials,n)){if(typeof e.partials[n]=="string"){if(!t.parse)throw new Error(Ot);r=t.parse(e.partials[n],e)}else r=e.partials[n];e.partials[n]=r}},h=function(r,i,s){!s.template&&i.template&&(s.template=i.template),p.forEach(function(t){s[t]?e(s[t],i[t]):i[t]&&(s[t]=n(i[t]))}),d.forEach(function(e){s[e]===undefined&&i[e]!==undefined&&(s[e]=i[e])}),r.beforeInit&&r.beforeInit.call(r,s),t.call(r,s),r.init&&r.init.call(r,s)},e=function(e,t){var n;for(n in t)q.call(t,n)&&!q.call(e,n)&&(e[n]=t[n])},n=function(e){var t={},n;for(n in e)q.call(e,n)&&(t[n]=e[n]);return t},i=function(e,t){var n;for(n in t)q.call(t,n)&&(e[n]=t[n])}}(),l=function(e,n){return N(e)&&N(n)?t.interpolators.number(+e,+n):x(e)&&x(n)?t.interpolators.array(e,n):T(e)&&T(n)?t.interpolators.object(e,n):function(){return n}},c={number:function(e,t){var n=t-e;return n?function(t){return e+t*n}:function(){return e}},array:function(e,n){var r,i,s,o;r=[],i=[],o=s=Math.min(e.length,n.length);while(o--)i[o]=t.interpolate(e[o],n[o]);for(o=s;o<e.length;o+=1)r[o]=e[o];for(o=s;o<n.length;o+=1)r[o]=n[o];return function(e){var t=s;while(t--)r[t]=i[t](e);return r}},object:function(e,n){var r=[],i,s,o,u;o={},s={};for(u in e)q.call(e,u)&&(q.call(n,u)?(r[r.length]=u,s[u]=t.interpolate(e[u],n[u])):o[u]=e[u]);for(u in n)q.call(n,u)&&!q.call(e,u)&&(o[u]=n[u]);return i=r.length,function(e){var t=i,n;while(t--)n=r[t],o[n]=s[n](e);return o}}};var xn=I(),Tn,Nn;Tn=function(){return{}},Nn=function(){return[]},j(xn,{preserveWhitespace:{enumerable:!0,value:!1},append:{enumerable:!0,value:!1},twoway:{enumerable:!0,value:!0},modifyArrays:{enumerable:!0,value:!0},data:{enumerable:!0,value:Tn},lazy:{enumerable:!0,value:!1},debug:{enumerable:!0,value:!1},transitions:{enumerable:!0,value:Tn},eventDefinitions:{enumerable:!0,value:Tn},noIntro:{enumerable:!0,value:!1},transitionsEnabled:{enumerable:!0,value:!0},magic:{enumerable:!0,value:!1},adaptors:{enumerable:!0,value:Nn}}),t=function(e){var n,i,s,o;for(n in xn)e[n]===undefined&&(e[n]=typeof xn[n]=="function"?xn[n]():xn[n]);j(this,{_guid:{value:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t,n;return t=Math.random()*16|0,n=e=="x"?t:t&3|8,n.toString(16)})},_subs:{value:I()},_cache:{value:{}},_cacheMap:{value:I()},_deps:{value:[]},_depsMap:{value:I()},_pendingResolution:{value:[]},_defAttrs:{value:[]},_defEvals:{value:[]},_defSelectValues:{value:[]},_defCheckboxes:{value:[]},_defRadios:{value:[]},_defObservers:{value:[]},_evaluators:{value:I()},_twowayBindings:{value:{}},_transitionManager:{value:null,writable:!0},_animations:{value:[]},nodes:{value:{}},_wrapped:{value:I()}}),this.modifyArrays=e.modifyArrays,this.magic=e.magic,this.twoway=e.twoway,this.lazy=e.lazy,this.debug=e.debug;if(this.magic&&un)throw new Error("Getters and setters (magic mode) are not supported in this browser");if(e.el){this.el=k(e.el);if(!this.el&&this.debug)throw new Error("Could not find container element")}this.data=e.data,this.components=e.components||{},this.transitions=e.transitions,this.eventDefinitions=e.eventDefinitions,this.adaptors=e.adaptors,i=e.template;if(typeof i=="string"){if(!t.parse)throw new Error(Ot);if(i.charAt(0)==="#"&&r){s=r.getElementById(i.substring(1));if(!s)throw new Error("Could not find template element ("+i+")");o=t.parse(s.innerHTML,e)}else o=t.parse(i,e)}else o=i;T(o)?(this.partials=o.partials,o=o.main):this.partials={},o&&o.length===1&&typeof o[0]=="string"&&(o=o[0]),this.template=o;if(e.partials)for(n in e.partials)q.call(e.partials,n)&&(this.partials[n]=e.partials[n]);this.parseOptions={preserveWhitespace:e.preserveWhitespace,sanitize:e.sanitize},this.transitionsEnabled=e.noIntro?!1:e.transitionsEnabled,vt(this,{el:this.el,append:e.append,complete:e.complete}),this.transitionsEnabled=e.transitionsEnabled},function(){var e,t,n,i;if(!r)return;e=function(e,t){var n={},r;r=t.length;while(r--)n[t[r]]=e[t[r]];return n},t=function(e,t,n,r){var i=t.length,s;while(i--)s=t[i],n&&n[s]?typeof n[s]=="function"?e.style[s]=n[s](r):e.style[s]=n[s]:e.style[s]=0},n=function(e,t){var n;if(!t)return e;for(n in t)q.call(t,n)&&(e[n]=t[n]);return e},cn&&(i=function(r,i,s,o){return typeof r=="string"&&(r=[r]),function(a,f,l,c){var h,p,d,v,m,g,y,b,w,E,S;l=Cn(l),g=l.duration||i.duration,u=ln(l.easing||i.easing),y=l.delay||0,b=c?s:o,w=c?o:s,p=window.getComputedStyle(a),m=a.getAttribute("style"),c?(E=a.style.position,S=a.style.visibility,a.style.position="absolute",a.style.visibility="hidden",setTimeout(function(){d=e(p,r),b=s,w=n(d,o),a.style.position=E,a.style.visibility=S,t(a,r,b,l),setTimeout(v,0)},y)):setTimeout(function(){d=e(p,r),b=n(d,o),w=s,t(a,r,b,l),setTimeout(v,0)},y),v=function(){a.style[hn+"Duration"]=g/1e3+"s",a.style[hn+"Properties"]=r.map(ln).join(","),a.style[hn+"TimingFunction"]=u,h=function(){a.removeEventListener(pn,h,!1),c&&a.setAttribute("style",m||""),f()},a.addEventListener(pn,h,!1),t(a,r,w,l)}}},h.slide=i(["height","borderTopWidth","borderBottomWidth","paddingTop","paddingBottom","overflowY"],{duration:400,easing:"easeInOut"},{overflowY:"hidden"},{overflowY:"hidden"}),h.fade=i("opacity",{duration:300,easing:"linear"}),h.fly=i(["opacity","left","position"],{duration:400,easing:"easeOut"},{position:"relative",left:"-500px"},{position:"relative",left:0}))}();var Cn=function(e){return e==="fast"?{duration:200}:e==="slow"?{duration:600}:N(e)?{duration:+e}:e||{}};(function(e){var t,n,i;if(!r)return;n=function(e,t,r){var s,o;e.nodeType===1&&(e.style.display=e._display);if(e.nodeType===3){i(e,t,r);return}s=Array.prototype.slice.call(e.childNodes),o=function(){if(!s.length){e.nodeType===1&&e.setAttribute("style",e._style||""),t();return}n(s.shift(),o,r)},o()},i=function(e,t,n){var r,i,s,o;r=e._hiddenData,i=r.length;if(!i){t();return}o=0,s=setInterval(function(){var n,u,a,f,l;n=r.substr(0,o),u=r.substring(o),a=/^\w+/.exec(u),f=a?a[0].length:0,l=(new Array(f+1)).join(" "),e.data=n+l,o===i&&(clearInterval(s),delete e._hiddenData,t()),o+=1},n)},t=function(e,t,r){var i,s,o,u;r=Cn(r),i=r.interval||(r.speed?1e3/r.speed:r.duration?e.textContent.length/r.duration:4),s=e.getAttribute("style"),o=window.getComputedStyle(e),e.style.visibility="hidden",setTimeout(function(){var a,f,l;f=o.width,a=o.height,l=o.visibility,u(e),setTimeout(function(){e.style.width=f,e.style.height=a,e.style.visibility="visible",n(e,function(){e.setAttribute("style",s||""),t()},i)},r.delay||0)}),u=function(e){var t,n;e.nodeType===1&&(e._style=e.getAttribute("style"),e._display=window.getComputedStyle(e).display,e.style.display="none");if(e.nodeType===3){e._hiddenData=""+e.data,e.data="";return}t=Array.prototype.slice.call(e.childNodes),n=t.length;while(n--)u(t[n])}},e.typewriter=t})(h),function(e){var t,n,i;if(!r)return;e.fullscreenEnabled=r.fullscreenEnabled||r.mozFullScreenEnabled||r.webkitFullscreenEnabled;if(!e.fullscreenEnabled){e.requestFullscreen=e.cancelFullscreen=R,e.isFullscreen=function(){return!1};return}on.requestFullscreen?t="requestFullscreen":on.mozRequestFullScreen?t="mozRequestFullScreen":on.webkitRequestFullscreen&&(t="webkitRequestFullscreen"),e.requestFullscreen=function(e){e[t]&&e[t]()},r.cancelFullscreen?n="cancelFullscreen":r.mozCancelFullScreen?n="mozCancelFullScreen":r.webkitCancelFullScreen&&(n="webkitCancelFullScreen"),e.cancelFullscreen=function(){r[n]()},r.fullscreenElement!==undefined?i="fullscreenElement":r.mozFullScreenElement!==undefined?i="mozFullScreenElement":r.webkitFullscreenElement!==undefined&&(i="webkitFullscreenElement"),e.isFullscreen=function(e){return e===r[i]}}(t),ht=function(e){var n;this.startTime=Date.now();for(n in e)q.call(e,n)&&(this[n]=e[n]);this.interpolator=t.interpolate(this.from,this.to),this.running=!0},ht.prototype={tick:function(){var e,t,n,r,i;return this.running?(r=Date.now(),e=r-this.startTime,e>=this.duration?(this.root.set(this.keypath,this.to),this.step&&this.step(1,this.to),this.complete&&this.complete(1,this.to),i=this.root._animations.indexOf(this),i===-1&&Q&&Q.warn&&Q.warn("Animation was not found"),this.root._animations.splice(i,1),this.running=!1,!1):(t=this.easing?this.easing(e/this.duration):e/this.duration,n=this.interpolator(t),this.root.set(this.keypath,n),this.step&&this.step(t,n),!0)):!1},stop:function(){var e;this.running=!1,e=this.root._animations.indexOf(this),e===-1&&Q&&Q.warn&&Q.warn("Animation was not found"),this.root._animations.splice(e,1)}},Et={animations:[],tick:function(){var e,t;for(e=0;e<this.animations.length;e+=1)t=this.animations[e],t.tick()||this.animations.splice(e--,1);this.animations.length?H(this.boundTick):this.running=!1},boundTick:function(){Et.tick()},push:function(e){this.animations[this.animations.length]=e,this.running||(this.running=!0,this.tick())}},function(e,t,n){var r,i;if(n.requestAnimationFrame){H=n.requestAnimationFrame;return}for(r=0;r<e.length&&!H;++r)H=n[e[r]+"RequestAnimationFrame"];H||(i=n.setTimeout,H=function(e){var n,r,s;return n=Date.now(),r=Math.max(0,16-(n-t)),s=i(function(){e(n+r)},r),t=n+r,s})}(["ms","moz","webkit","o"],0,e);var kn=function(e,t){var n;if(!x(e)||!x(t))return!1;if(e.length!==t.length)return!1;n=e.length;while(n--)if(e[n]!==t[n])return!1;return!0};(function(){var e,t,n,r;e={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},Z=function(e){this.element=e.element,t(this,e.name);if(e.value===null||typeof e.value=="string"){n(this,e);return}this.root=e.root,this.parentNode=e.parentNode,this.parentFragment=this.element.parentFragment,this.fragment=new ot({descriptor:e.value,root:this.root,owner:this,contextStack:e.contextStack});if(!this.parentNode)return;this.name==="value"&&(e.element.ractify(),this.isValueAttribute=!0,this.parentNode.tagName==="INPUT"&&this.parentNode.type==="file"&&(this.isFileInputValue=!0)),r(this,e),this.selfUpdating=D(this.fragment),this.ready=!0},Z.prototype={bind:K,update:J,updateBindings:function(){this.keypath=this.interpolator.keypath||this.interpolator.r,this.propertyName==="name"&&(this.parentNode.name="{{"+this.keypath+"}}")},teardown:function(){var e;if(this.boundEvents){e=this.boundEvents.length;while(e--)this.parentNode.removeEventListener(this.boundEvents[e],this.updateModel,!1)}this.fragment&&this.fragment.teardown()},bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(this.root._defAttrs[this.root._defAttrs.length]=this,this.deferred=!0)},toString:function(){var e;return this.value===null?this.name:this.fragment?(e=this.fragment.toString(),this.name+"="+JSON.stringify(e)):this.name+"="+JSON.stringify(this.value)}},t=function(e,t){var n,r;n=t.indexOf(":");if(n!==-1){r=t.substr(0,n);if(r!=="xmlns"){t=t.substring(n+1),e.name=t,e.namespace=an[r];if(!e.namespace)throw'Unknown namespace ("'+r+'")';return}}e.name=t},n=function(e,t){var n=t.value===null?"":t.value;t.parentNode&&(e.namespace?t.parentNode.setAttributeNS(e.namespace,t.name,n):t.parentNode.setAttribute(t.name,n),e.name==="id"&&(t.root.nodes[t.value]=t.parentNode),e.name==="value"&&(e.element.ractify().value=t.value)),e.value=t.value},r=function(t,n){var r;if(t.parentNode&&!t.namespace&&(!n.parentNode.namespaceURI||n.parentNode.namespaceURI===an.html)){r=e[t.name]||t.name,n.parentNode[r]!==undefined&&(t.propertyName=r);if(typeof n.parentNode[r]=="boolean"||r==="value")t.useProperty=!0}}})(),function(){var e;tt=function(t,n){var r=this,i=this.parentFragment=t.parentFragment,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,E,S,x,T,N;s=i.root,this.type=zt,this.name=t.descriptor.r,o=_(i.root,t.descriptor.e);if(!o)throw new Error('Component "'+t.descriptor.e+'" not found');u=o.twoway!==!1,c={},h=[],this.complexParameters=[],S=function(t,n){var o;if(typeof n=="string"){try{c[t]=JSON.parse(n)}catch(u){c[t]=n}return}if(n===null){c[t]=!0;return}if(n.length===1&&n[0].t===_t&&n[0].r){if(i.indexRefs&&i.indexRefs[n[0].r]!==undefined){c[t]=i.indexRefs[n[0].r];return}l=w(s,n[0].r,i.contextStack)||n[0].r,c[t]=s.get(l),h[h.length]=[t,l];return}o=new e(s,r,t,n,i.contextStack),r.complexParameters[r.complexParameters.length]=o,c[t]=o.value};if(t.descriptor.a)for(b in t.descriptor.a)t.descriptor.a.hasOwnProperty(b)&&S(b,t.descriptor.a[b]);a={},t.descriptor.f&&(a.content=t.descriptor.f),f=this.instance=new o({el:i.parentNode.cloneNode(!1),data:c,partials:a});while(f.el.firstChild)n.appendChild(f.el.firstChild);f.el=i.parentNode,N=f.fragment.items;if(N){p=N.length;while(p--)N[p].parentNode&&(N[p].parentNode=i.parentNode)}r.observers=[],E={init:!1},v=function(e){var t=s.observe(e[1],function(t){g||(y=!0,f.set(e[0],t),y=!1)},E);r.observers[r.observers.length]=t},u&&(m=function(e){var t=f.observe(e[0],function(t){y||(g=!0,s.set(e[1],t),g=!1)},E);r.observers[r.observers.length]=t,s.set(e[1],f.get(e[0]))}),p=h.length;while(p--)d=h[p],v(d),u&&m(d);T=function(e,t){f.on(e,function(){var e=Array.prototype.slice.call(arguments);e.unshift(t),s.fire.apply(s,e)})};if(t.descriptor.v)for(x in t.descriptor.v)t.descriptor.v.hasOwnProperty(x)&&T(x,t.descriptor.v[x])},tt.prototype={firstNode:function(){return this.instance.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},teardown:function(){while(this.complexParameters.length)this.complexParameters.pop().teardown();while(this.observers.length)this.observers.pop().cancel();this.instance.teardown()},toString:function(){return this.instance.fragment.toString()}},e=function(e,t,n,r,i){this.parentFragment=t.parentFragment,this.component=t,this.key=n,this.fragment=new ot({descriptor:r,root:e,owner:this,contextStack:i}),this.selfUpdating=D(this.fragment),this.value=this.fragment.getValue()},e.prototype={bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(this.root._defAttrs[this.root._defAttrs.length]=this,this.deferred=!0)},update:function(){var e=this.fragment.getValue();this.component.set(this.key,e),this.value=e}}}(),Y=function(e,t){var n,i,s,o,u;this.type=jt,n=this.parentFragment=e.parentFragment,i=this.descriptor=e.descriptor,this.root=u=n.root,this.parentNode=n.parentNode,this.index=e.index,this.eventListeners=[],this.customEventListeners=[],this.parentNode&&(s=$(i,this.parentNode),this.node=r.createElementNS(s,i.e)),o=V(this,i.a),i.f&&W(this,this.node,i,t),t&&i.v&&U(this,i.v),t&&(u.twoway&&X(this,o),o.name&&!o.name.twoway&&o.name.update(),t.appendChild(this.node),i.t1&&O(i.t1,u,this,n.contextStack,!0))},Y.prototype={teardown:function(e){var t,n,r;this.fragment&&this.fragment.teardown(!1);while(this.attributes.length)this.attributes.pop().teardown();if(this.node._ractive){for(t in this.node._ractive.events)this.node._ractive.events[t].teardown();if(n=this.node._ractive.binding)n.teardown(),r=this.root._twowayBindings[n.attr.keypath],r.splice(r.indexOf(n),1)}this.descriptor.t2&&O(this.descriptor.t2,this.root,this,this.parentFragment.contextStack,!1),e&&this.root._transitionManager.detachWhenReady(this.node)},firstNode:function(){return this.node},findNextNode:function(){return null},bubble:R,toString:function(){var e,t,n;e="<"+this.descriptor.e,n=this.attributes.length;for(t=0;t<n;t+=1)e+=" "+this.attributes[t].toString();return e+=">",this.html?e+=this.html:this.fragment&&(e+=this.fragment.toString()),e+="</"+this.descriptor.e+">",e},ractify:function(){var e=this.parentFragment.contextStack;return this.node._ractive||B(this.node,"_ractive",{value:{keypath:e.length?e[e.length-1]:"",index:this.parentFragment.indexRefs,events:I(),root:this.root}}),this.node._ractive}},G=function(e){e.parentNode&&(this.docFrag=r.createDocumentFragment());if(typeof e.descriptor=="string"){this.html=e.descriptor,this.docFrag&&(this.nodes=L(e.descriptor,e.parentNode.tagName,this.docFrag));return}bt(this,e)},G.prototype={createItem:function(e){if(typeof e.descriptor=="string")return new st(e,this.docFrag);switch(e.descriptor.t){case _t:return new nt(e,this.docFrag);case Pt:return new it(e,this.docFrag);case Dt:return new rt(e,this.docFrag);case jt:return new Y(e,this.docFrag);case Ft:return new et(e,this.docFrag);case zt:return new tt(e,this.docFrag);default:throw new Error("WTF? not sure what happened here...")}},teardown:function(e){var t;if(e&&this.nodes){while(this.nodes.length)t=this.nodes.pop(),t.parentNode.removeChild(t);return}if(!this.items)return;while(this.items.length)this.items.pop().teardown(e)},firstNode:function(){return this.items&&this.items[0]?this.items[0].firstNode():this.nodes?this.nodes[0]||null:null},findNextNode:function(e){var t=e.index;return this.items[t+1]?this.items[t+1].firstNode():this.owner===this.root?null:this.owner.findNextNode(this)},toString:function(){var e,t,n,r;if(this.html)return this.html;e="";if(!this.items)return e;n=this.items.length;for(t=0;t<n;t+=1)r=this.items[t],e+=r.toString();return e}},nt=function(e,t){this.type=_t,t&&(this.node=r.createTextNode(""),t.appendChild(this.node)),mt(this,e)},nt.prototype={update:gt,resolve:yt,teardown:function(e){p(this),e&&this.node.parentNode.removeChild(this.node)},render:function(e){this.node&&(this.node.data=e===undefined?"":e)},firstNode:function(){return this.node},toString:function(){var e=this.value!==undefined?""+this.value:"";return e.replace("<","&lt;").replace(">","&gt;")}},et=function(e,t){var n=this.parentFragment=e.parentFragment,r;this.type=Ft,this.name=e.descriptor.r,r=M(n.root,e.descriptor.r),this.fragment=new G({descriptor:r,root:n.root,parentNode:n.parentNode,contextStack:n.contextStack,owner:this}),t&&t.appendChild(this.fragment.docFrag)},et.prototype={firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},teardown:function(e){this.fragment.teardown(e)},toString:function(){return this.fragment.toString()}},it=function(e,t){this.type=Pt,this.fragments=[],this.length=0,t&&(this.docFrag=r.createDocumentFragment()),this.initialising=!0,mt(this,e),t&&t.appendChild(this.docFrag),this.initialising=!1},it.prototype={update:gt,resolve:yt,smartUpdate:function(e,t){var n;if(e==="push"||e==="unshift"||e==="splice")n={descriptor:this.descriptor.f,root:this.root,parentNode:this.parentNode,owner:this},this.descriptor.i&&(n.indexRef=this.descriptor.i);this[e]&&this[e](n,t)},pop:function(){this.length&&(this.fragments.pop().teardown(!0),this.length-=1)},push:function(e,t){var n,r,i;n=this.length,r=n+t.length;for(i=n;i<r;i+=1)e.contextStack=this.contextStack.concat(this.keypath+"."+i),e.index=i,this.fragments[i]=this.createFragment(e);this.length+=t.length,this.parentNode.insertBefore(this.docFrag,this.parentFragment.findNextNode(this))},shift:function(){this.splice(null,[0,1])},unshift:function(e,t){this.splice(e,[0,0].concat(new Array(t.length)))},splice:function(e,t){var n,r,i,s,o,u,a,f,l;if(!t.length)return;u=+(t[0]<0?this.length+t[0]:t[0]),r=Math.max(0,t.length-2),i=t[1]!==undefined?t[1]:this.length-u,s=r-i;if(!s)return;if(s<0){a=u-s;for(o=u;o<a;o+=1)this.fragments[o].teardown(!0);this.fragments.splice(u,-s)}else{a=u+s,n=this.fragments[u]?this.fragments[u].firstNode():this.parentFragment.findNextNode(this),f=[u,0].concat(new Array(s)),this.fragments.splice.apply(this.fragments,f);for(o=u;o<a;o+=1)e.contextStack=this.contextStack.concat(this.keypath+"."+o),e.index=o,this.fragments[o]=this.createFragment(e);this.parentNode.insertBefore(this.docFrag,n)}this.length+=s,l=u+r,A(this.root,this,l,this.length,s)},teardown:function(e){this.teardownFragments(e),p(this)},firstNode:function(){return this.fragments[0]?this.fragments[0].firstNode():this.parentFragment.findNextNode(this)},findNextNode:function(e){return this.fragments[e.index+1]?this.fragments[e.index+1].firstNode():this.parentFragment.findNextNode(this)},teardownFragments:function(e){var t;while(this.fragments.length)this.fragments.shift().teardown(e);if(this.fragmentsById)for(t in this.fragmentsById)this.fragments[t]&&(this.fragmentsById[t].teardown(),this.fragmentsById[t]=null)},render:function(e){var t,n;if(n=this.root._wrapped[this.keypath])e=n.get();if(this.rendering)return;this.rendering=!0,wt(this,e),this.rendering=!1;if(this.docFrag&&!this.docFrag.childNodes.length)return;this.initialising||(t=this.parentFragment.findNextNode(this),t&&t.parentNode===this.parentNode?this.parentNode.insertBefore(this.docFrag,t):this.parentNode.appendChild(this.docFrag))},createFragment:function(e){var t=new G(e);return this.docFrag&&this.docFrag.appendChild(t.docFrag),t},toString:function(){var e,t,n;e="",t=0,n=this.length;for(t=0;t<n;t+=1)e+=this.fragments[t].toString();return e}},st=function(e,t){this.type=Mt,this.descriptor=e.descriptor,t&&(this.node=r.createTextNode(e.descriptor),this.parentNode=e.parentFragment.parentNode,t.appendChild(this.node))},st.prototype={teardown:function(e){e&&this.node.parentNode.removeChild(this.node)},firstNode:function(){return this.node},toString:function(){return(""+this.descriptor).replace("<","&lt;").replace(">","&gt;")}},rt=function(e,t){this.type=Dt,t&&(this.nodes=[],this.docFrag=r.createDocumentFragment()),this.initialising=!0,mt(this,e),t&&t.appendChild(this.docFrag),this.initialising=!1},rt.prototype={update:gt,resolve:yt,teardown:function(e){var t;if(e)while(this.nodes.length)t=this.nodes.pop(),t.parentNode.removeChild(t);p(this)},firstNode:function(){return this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},render:function(e){var t;if(!this.nodes)return;while(this.nodes.length)t=this.nodes.pop(),t.parentNode.removeChild(t);if(e===undefined){this.nodes=[];return}this.nodes=L(e,this.parentNode.tagName,this.docFrag),this.initialising||this.parentNode.insertBefore(this.docFrag,this.parentFragment.findNextNode(this))},toString:function(){return this.value!==undefined?this.value:""}},ot=function(e){bt(this,e)},ot.prototype={createItem:function(e){if(typeof e.descriptor=="string")return new ft(e.descriptor);switch(e.descriptor.t){case _t:return new ut(e);case Dt:return new ut(e);case Pt:return new at(e);default:throw"Something went wrong in a rather interesting way"}},bubble:function(){this.owner.bubble()},teardown:function(){var e,t;e=this.items.length;for(t=0;t<e;t+=1)this.items[t].teardown()},getValue:function(){var e;if(this.items.length===1&&this.items[0].type===_t){e=this.items[0].value;if(e!==undefined)return e}return this.toString()},toString:function(){return this.items.join("")},toJSON:function(){var e=this.getValue();if(typeof e=="string")try{e=JSON.parse(e)}catch(t){}return e}},ut=function(e){this.type=_t,mt(this,e)},ut.prototype={update:gt,resolve:yt,render:function(e){this.value=e,this.parentFragment.bubble()},teardown:function(){p(this)},toString:function(){return this.value===undefined?"":this.value}},at=function(e){this.type=Pt,this.fragments=[],this.length=0,mt(this,e)},at.prototype={update:gt,resolve:yt,teardown:function(){this.teardownFragments(),p(this)},teardownFragments:function(){while(this.fragments.length)this.fragments.shift().teardown();this.length=0},bubble:function(){this.value=this.fragments.join(""),this.parentFragment.bubble()},render:function(e){var t;if(t=this.root._wrapped[this.keypath])e=t.get();wt(this,e),this.parentFragment.bubble()},createFragment:function(e){return new ot(e)},toString:function(){return this.fragments.join("")}},ft=function(e){this.type=Mt,this.text=e},ft.prototype={toString:function(){return this.text},teardown:function(){}},k=function(e){var t;if(typeof window=="undefined"||!r||!e)return null;if(e.nodeType)return e;if(typeof e=="string"){t=r.getElementById(e),!t&&r.querySelector&&(t=r.querySelector(e));if(t.nodeType)return t}return e[0]&&e[0].nodeType?e[0]:null},S=Object.prototype.toString,x=function(e){return S.call(e)==="[object Array]"},C=function(e,t){return e===null&&t===null?!0:typeof e=="object"||typeof t=="object"?!1:e===t},N=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},T=function(e){return typeof e=="object"&&S.call(e)==="[object Object]"},P=function(e,t){var n,r,i,s;return r=[],i=function(){var e,t;e=r.length;while(e--)t=r[e],s(t)&&(t.parentNode.removeChild(t),r.splice(e,1))},s=function(e){var t,r;t=n.active.length;while(t--){r=n.active[t];if(e.contains(r))return!1}return!0},n={active:[],push:function(e){n.active[n.active.length]=e},pop:function(e){n.active.splice(n.active.indexOf(e),1),i(),!n.active.length&&n._ready&&n.complete()},complete:function(){t&&t.call(e)},ready:function(){i(),n._ready=!0,n.active.length||n.complete()},detachWhenReady:function(e){r[r.length]=e}},n};var Ln;(function(){var e=/\[\s*([0-9]|[1-9][0-9]+)\s*\]/g;Ln=function(t){return t.replace(e,".$1")}})();var An;(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v;An=function(t,n,r){var s,o,u,f,d,m,g;this.lcTag=t.name.toLowerCase(),n.pos+=1;if(this.lcTag.substr(0,3)==="rv-"){this.component=v(t.name.substring(3));if(t.attrs){this.attributes=[],m=t.attrs.length;while(m--)g=t.attrs[m],this.attributes[m]={name:g.name,value:g.value?Tt(g.value):null}}}else this.tag=i[this.lcTag]?i[this.lcTag]:this.lcTag,r=r||this.lcTag==="pre",t.attrs&&(u=c(t.attrs),o=u.attrs,f=u.proxies,n.options.sanitize&&n.options.sanitize.eventAttributes&&(o=o.filter(l)),o.length&&(this.attributes=o.map(h)),f.length&&(this.proxies=f.map(p)),u.intro&&(this.intro=p(u.intro)),u.outro&&(this.outro=p(u.outro)));t.selfClosing&&(this.selfClosing=!0),e.indexOf(this.lcTag)!==-1&&(this.isVoid=!0);if(this.selfClosing||this.isVoid)return;this.siblings=a[this.lcTag],this.items=[],s=n.next();while(s){if(s.mustacheType===Bt)break;if(s.type===Ut){if(s.closing){s.name.toLowerCase()===this.lcTag&&(n.pos+=1);break}if(this.siblings&&this.siblings.indexOf(s.name.toLowerCase())!==-1)break}this.items[this.items.length]=dn(n),s=n.next()}r||(d=this.items[0],d&&d.type===Mt&&(d.text=d.text.replace(pt,""),d.text||this.items.shift()),d=this.items[this.items.length-1],d&&d.type===Mt&&(d.text=d.text.replace(dt,""),d.text||this.items.pop()))},An.prototype={toJSON:function(e){var t,n,r,i,s,o;if(this["json_"+e])return this["json_"+e];this.component?t={t:zt,e:this.component}:t={t:jt,e:this.tag};if(this.attributes&&this.attributes.length){t.a={},o=this.attributes.length;for(s=0;s<o;s+=1){n=this.attributes[s].name;if(t.a[n])throw new Error("You cannot have multiple attributes with the same name");this.attributes[s].value===null?r=null:r=vn(this.attributes[s].value.items,e),t.a[n]=r}}this.items&&this.items.length&&(t.f=vn(this.items,e));if(this.proxies&&this.proxies.length){t.v={},o=this.proxies.length;for(s=0;s<o;s+=1)i=this.proxies[s],t.v[i.domEventName]=d(i)}return this.intro&&(this.intro.args?t.t1={n:this.intro.name,a:this.intro.args}:this.intro.dynamicArgs?t.t1={n:this.intro.name,d:vn(this.intro.dynamicArgs.items,e)}:t.t1=this.intro.name),this.outro&&(this.outro.args?t.t2={n:this.outro.name,a:this.outro.args}:this.outro.dynamicArgs?t.t2={n:this.outro.name,d:vn(this.outro.dynamicArgs.items,e)}:t.t2=this.outro.name),this["json_"+e]=t,t},toString:function(){var n,r,i,s,o,u,a,f;if(this.str!==undefined)return this.str;if(this.component)return this.str=!1;if(t.indexOf(this.tag.toLowerCase())===-1)return this.str=!1;if(this.proxies||this.intro||this.outro)return this.str=!1;a=mn(this.items);if(a===!1)return this.str=!1;f=e.indexOf(this.tag.toLowerCase())!==-1,n="<"+this.tag;if(this.attributes)for(r=0,i=this.attributes.length;r<i;r+=1){o=this.attributes[r].name;if(o.indexOf(":")!==-1)return this.str=!1;if(o==="id"||o==="intro"||o==="outro")return this.str=!1;s=" "+o;if(this.attributes[r].value!==null){u=this.attributes[r].value.toString();if(u===!1)return this.str=!1;u!==""&&(s+="=",/[\s"'=<>`]/.test(u)?s+='"'+u.replace(/"/g,"&quot;")+'"':s+=u)}n+=s}return this.selfClosing&&!f?(n+="/>",this.str=n):(n+=">",f?this.str=n:(n+=a,n+="</"+this.tag+">",this.str=n))}},e="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),t="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),u="li dd rt rp optgroup option tbody tfoot tr td th".split(" "),r="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),s="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef glyphRef gradientTransform gradientTransform gradientUnits gradientUnits kernelMatrix kernelUnitLength kernelUnitLength kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent specularExponent spreadMethod spreadMethod startOffset stdDeviation stitchTiles surfaceScale surfaceScale systemLanguage tableValues targetX targetY textLength textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),n=function(e){var t={},n=e.length;while(n--)t[e[n].toLowerCase()]=e[n];return t},i=n(r),o=n(s),a={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote dir div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rp","rt"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tr:["tr"],td:["td","th"],th:["td","th"]},f=/^on[a-zA-Z]/,l=function(e){var t=!f.test(e.name);return t},c=function(e){var t,n,r,i,s,o;r={},t=[],n=[],s=e.length;for(i=0;i<s;i+=1){o=e[i];if(o.name==="intro"){if(r.intro)throw new Error("An element can only have one intro transition");r.intro=o}else if(o.name==="outro"){if(r.outro)throw new Error("An element can only have one outro transition");r.outro=o}else o.name.substr(0,6)==="proxy-"?(o.name=o.name.substring(6),n[n.length]=o):o.name.substr(0,3)==="on-"?(o.name=o.name.substring(3),n[n.length]=o):t[t.length]=o}return r.attrs=t,r.proxies=n,r},h=function(e){var t=e.name.toLowerCase();return{name:o[t]?o[t]:t,value:e.value?Tt(e.value):null}},p=function(e){var t,n,r,i,s,o,u;s=function(){throw new Error("Illegal proxy event")},(!e.name||!e.value)&&s(),t={domEventName:e.name},n=e.value,o=[],u=[];while(n.length){r=n.shift();if(r.type===Mt){i=r.value.indexOf(":");if(i!==-1){i&&(o[o.length]={type:Mt,value:r.value.substr(0,i)}),r.value.length>i+1&&(u[0]={type:Mt,value:r.value.substring(i+1)});break}o[o.length]=r}else o[o.length]=r}u=u.concat(n),o.length===1&&o[0].type===Mt?t.name=o[0].value:t.name=o;if(u.length)if(u.length===1&&u[0].type===Mt)try{t.args=JSON.parse(u[0].value)}catch(a){t.args=u[0].value}else t.dynamicArgs=u;return t},d=function(e){var t,n;if(typeof e.name=="string"){if(!e.args&&!e.dynamicArgs)return e.name;n=e.name}else n=Tt(e.name).toJSON();return t={n:n},e.args?(t.a=e.args,t):(e.dynamicArgs&&(t.d=Tt(e.dynamicArgs).toJSON()),t)},v=function(e){return e.replace(/-([a-zA-Z])/g,function(e,t){return t.toUpperCase()})}})();var On;(function(){var e,t,n,r;On=function(n){this.refs=[],e(n,this.refs),this.str=t(n,this.refs)},On.prototype={toJSON:function(){return this.json?this.json:(this.json={r:this.refs,s:this.str},this.json)}},e=function(t,n){var r,i;t.t===Gt&&n.indexOf(t.n)===-1&&n.unshift(t.n),i=t.o||t.m;if(i)if(T(i))e(i,n);else{r=i.length;while(r--)e(i[r],n)}t.x&&e(t.x,n),t.r&&e(t.r,n),t.v&&e(t.v,n)},t=function(e,r){var i=function(e){return t(e,r)};switch(e.t){case Jt:case Kt:case Wt:return e.v;case Xt:return"'"+e.v.replace(/'/g,"\\'")+"'";case Vt:return"["+(e.m?e.m.map(i).join(","):"")+"]";case $t:return"{"+(e.m?e.m.map(i).join(","):"")+"}";case Qt:return n(e.k)+":"+t(e.v,r);case en:return(e.s==="typeof"?"typeof ":e.s)+t(e.o,r);case rn:return t(e.o[0],r)+(e.s.substr(0,2)==="in"?" "+e.s+" ":e.s)+t(e.o[1],r);case sn:return t(e.x,r)+"("+(e.o?e.o.map(i).join(","):"")+")";case tn:return"("+t(e.x,r)+")";case Zt:return t(e.x,r)+t(e.r,r);case Yt:return e.n?"."+e.n:"["+t(e.x,r)+"]";case nn:return t(e.o[0],r)+"?"+t(e.o[1],r)+":"+t(e.o[2],r);case Gt:return"${"+r.indexOf(e.n)+"}";default:throw Q.log(e),new Error("Could not stringify expression token. This error is unexpected")}},n=function(e){return e.t===Xt?r.test(e.v)?e.v:'"'+e.v.replace(/"/g,'\\"')+'"':e.t===Wt?e.v:e},r=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/})();var Mn=function(e,t){var n,r;n=this.items=[],r=dn(e,t);while(r!==null)n[n.length]=r,r=dn(e,t)};Mn.prototype={toJSON:function(e){var t;return this["json_"+e]?this["json_"+e]:(t=this["json_"+e]=vn(this.items,e),t)},toString:function(){return this.str!==undefined?this.str:(this.str=mn(this.items),this.str)}};var _n=function(e,t){this.type=e.type===Dt?Dt:e.mustacheType,e.ref&&(this.ref=e.ref),e.expression&&(this.expr=new On(e.expression)),t.pos+=1};_n.prototype={toJSON:function(){var e;return this.json?this.json:(e={t:this.type},this.ref&&(e.r=this.ref),this.expr&&(e.x=this.expr.toJSON()),this.json=e,e)},toString:function(){return!1}};var Dn=function(e,t,n){var r;this.ref=e.ref,this.indexRef=e.indexRef,this.inverted=e.mustacheType===Ht,e.expression&&(this.expr=new On(e.expression)),t.pos+=1,this.items=[],r=t.next();while(r){if(r.mustacheType===Bt){if(r.ref.trim()===this.ref||this.expr){t.pos+=1;break}throw new Error("Could not parse template: Illegal closing section")}this.items[this.items.length]=dn(t,n),r=t.next()}};Dn.prototype={toJSON:function(e){var t;return this.json?this.json:(t={t:Pt},this.ref&&(t.r=this.ref),this.indexRef&&(t.i=this.indexRef),this.inverted&&(t.n=!0),this.expr&&(t.x=this.expr.toJSON()),this.items.length&&(t.f=vn(this.items,e)),this.json=t,t)},toString:function(){return!1}};var Pn;(function(){var e,t,n,r,i,s,o,u;Pn=function(e,t){this.type=Mt,this.text=t?e.value:e.value.replace(u," ")},Pn.prototype={toJSON:function(){return this.decoded||(this.decoded=o(this.text))},toString:function(){return this.text}},e={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},t=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],n=new RegExp("&("+Object.keys(e).join("|")+");?","g"),r=/&#x([0-9]+);?/g,i=/&#([0-9]+);?/g,s=function(e){return e?e===10?32:e<128?e:e<=159?t[e-128]:e<55296?e:e<=57343?65533:e<=65535?e:65533:65533},o=function(t){var o;return o=t.replace(n,function(t,n){return e[n]?String.fromCharCode(e[n]):t}),o=o.replace(r,function(e,t){return String.fromCharCode(s(parseInt(t,16)))}),o=o.replace(i,function(e,t){return String.fromCharCode(s(t))}),o},u=/\s+/g})(),Tt=function(e,t,n){var r,i;return r={pos:0,tokens:e||[],next:function(){return r.tokens[r.pos]},options:t},i=new Mn(r,n),i};var Hn;(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L;Hn=function(e){return a(e)},e=function(t){var n,r,i,s;n=t.pos,gn(t),i=Hn(t);if(i===null)return null;r=[i],gn(t);if(wn(t,",")){s=e(t);if(s===null)return t.pos=n,null;r=r.concat(s)}return r},r=function(e){var t,n;return t=e.pos,wn(e,"(")?(gn(e),n=Hn(e),n?(gn(e),wn(e,")")?{t:tn,x:n}:(e.pos=t,null)):(e.pos=t,null)):null},i=function(e){return v(e)||p(e)||r(e)},s=function(t){var n,r,s,o;r=i(t);if(!r)return null;while(r){n=t.pos;if(s=d(t))r={t:Zt,x:r,r:s};else{if(!wn(t,"("))break;gn(t),o=e(t),gn(t);if(!wn(t,")")){t.pos=n;break}r={t:sn,x:r},o&&(r.o=o)}}return r},t=function(e,t){return function(n){var r,i;return wn(n,e)?(r=n.pos,gn(n),i=Hn(n),i||yn(n,"an expression"),{s:e,o:i,t:en}):t(n)}},function(){var e,n,r,i,u;i="! ~ + - typeof".split(" "),u=s;for(e=0,n=i.length;e<n;e+=1)r=t(i[e],u),u=r;o=u}(),n=function(e,t){return function(n){var r,i,s;return i=t(n),i?(r=n.pos,gn(n),wn(n,e)?e==="in"&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0))?(n.pos=r,i):(gn(n),s=Hn(n),s?{t:rn,s:e,o:[i,s]}:(n.pos=r,i)):(n.pos=r,i)):null}},function(){var e,t,r,i,s;i="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),s=o;for(e=0,t=i.length;e<t;e+=1)r=n(i[e],s),s=r;u=s}(),a=function(e){var t,n,r,i;return n=u(e),n?(t=e.pos,gn(e),wn(e,"?")?(gn(e),r=Hn(e),r?(gn(e),wn(e,":")?(gn(e),i=Hn(e),i?{t:nn,o:[n,r,i]}:(e.pos=t,n)):(e.pos=t,n)):(e.pos=t,n)):(e.pos=t,n)):null},f=bn(/^[0-9]+/),l=bn(/^[eE][\-+]?[0-9]+/),c=bn(/^\.[0-9]+/),h=bn(/^(0|[1-9][0-9]*)/),L=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,p=function(e){var t,n,r,i,s,o,u;t=e.pos,n="";while(wn(e,"../"))n+="../";n||(i=wn(e,".")||""),r=T(e)||"";if(!n&&!i&&L.test(r))return{t:Kt,v:r};r==="this"&&!n&&!i&&(r=".",t+=3),s=(n||i)+r;if(!s)return null;while(o=N(e)||C(e))s+=o;return wn(e,"(")&&(u=s.lastIndexOf("."),u!==-1?(s=s.substr(0,u),e.pos=t+s.length):e.pos-=1),{t:Gt,n:s}},d=function(e){var t,n,r;t=e.pos,gn(e);if(wn(e,".")){gn(e);if(n=T(e))return{t:Yt,n:n};yn(e,"a property name")}return wn(e,"[")?(gn(e),r=Hn(e),r||yn(e,"an expression"),gn(e),wn(e,"]")||yn(e,'"]"'),{t:Yt,x:r}):null},v=function(e){var t=y(e)||g(e)||b(e)||w(e)||m(e);return t},m=function(t){var n,r;return n=t.pos,gn(t),wn(t,"[")?(r=e(t),wn(t,"]")?{t:Vt,m:r}:(t.pos=n,null)):(t.pos=n,null)},g=function(e){var t=e.remaining();return t.substr(0,4)==="true"?(e.pos+=4,{t:Jt,v:"true"}):t.substr(0,5)==="false"?(e.pos+=5,{t:Jt,v:"false"}):null},y=function(e){var t,n;return t=e.pos,(n=c(e))?{t:Wt,v:n}:(n=h(e),n===null?null:(n+=c(e)||"",n+=l(e)||"",{t:Wt,v:n}))},w=function(e){var t,n;return t=e.pos,gn(e),wn(e,"{")?(n=E(e),gn(e),wn(e,"}")?{t:$t,m:n}:(e.pos=t,null)):(e.pos=t,null)},E=function(e){var t,n,r,i;return t=e.pos,r=S(e),r===null?null:(n=[r],wn(e,",")?(i=E(e),i?n.concat(i):(e.pos=t,null)):n)},S=function(e){var t,n,r;return t=e.pos,gn(e),n=x(e),n===null?(e.pos=t,null):(gn(e),wn(e,":")?(gn(e),r=Hn(e),r===null?(e.pos=t,null):{t:Qt,k:n,v:r}):(e.pos=t,null))},x=function(e){return T(e)||b(e)||y(e)},b=function(e){var t,n;return t=e.pos,wn(e,'"')?(n=In(e),wn(e,'"')?{t:Xt,v:n}:(e.pos=t,null)):wn(e,"'")?(n=Wn(e),wn(e,"'")?{t:Xt,v:n}:(e.pos=t,null)):null},T=bn(/^[a-zA-Z_$][a-zA-Z_$0-9]*/),N=bn(/^\.[a-zA-Z_$0-9]+/),C=function(e){var t=k(e);return t?"."+t:null},k=bn(/^\[(0|[1-9][0-9]*)\]/)})();var Bn;(function(){var e,t,n,r,i,s,o,u;Bn=function(n){return n.tripleDelimiters[0].length>n.delimiters[0].length?t(n)||e(n):e(n)||t(n)},e=function(e){var t=e.pos,r;return wn(e,e.delimiters[0])?(r=u(e),r?wn(e,e.delimiters[1])?(e.delimiters=r,{type:Rt,mustacheType:qt}):(e.pos=t,null):(r=n(e),r===null?(e.pos=t,null):(gn(e),wn(e,e.delimiters[1])||yn(e,'"'+e.delimiters[1]+'"'),r))):null},t=function(e){var t=e.pos,r;return wn(e,e.tripleDelimiters[0])?(r=u(e),r?wn(e,e.tripleDelimiters[1])?(e.tripleDelimiters=r,{type:Rt,mustacheType:qt}):(e.pos=t,null):(gn(e),r=n(e,!0),r===null?(e.pos=t,null):(gn(e),wn(e,e.tripleDelimiters[1])?r:(e.pos=t,null)))):null},n=function(e,t){var n,s,o,u,a,f,l;n=e.pos,s={type:t?Dt:Rt};if(!t){o=r(e),s.mustacheType=o||_t;if(o===It||o===Bt){f=e.remaining(),l=f.indexOf(e.delimiters[1]);if(l!==-1)return s.ref=f.substr(0,l),e.pos+=l,s}}gn(e),u=Hn(e);while(u.t===tn&&u.x)u=u.x;return u.t===Gt?s.ref=u.n:s.expression=u,a=i(e),a!==null&&(s.indexRef=a),s},s={"#":Pt,"^":Ht,"/":Bt,">":Ft,"!":It,"&":_t},r=function(e){var t=s[e.str.charAt(e.pos)];return t?(e.pos+=1,t):null},i=bn(/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/),o=bn(/^[^\s=]+/),u=function(e){var t,n,r;return wn(e,"=")?(t=e.pos,gn(e),n=o(e),n?(gn(e),r=o(e),r?(gn(e),wn(e,"=")?[n,r]:(e.pos=t,null)):(e.pos=t,null)):(e.pos=t,null)):null}})();var jn;(function(){var e,t,n,r,i,s,o,u,a,f,l,c;jn=function(n){return e(n)||t(n)},e=function(e){var t,i,s;return t=e.pos,wn(e,"<")?(i={type:Ut},i.name=n(e),i.name?(s=r(e),s&&(i.attrs=s),gn(e),wn(e,"/")&&(i.selfClosing=!0),wn(e,">")?i:(e.pos=t,null)):(e.pos=t,null)):null},t=function(e){var t,r;t=e.pos;if(!wn(e,"<"))return null;r={type:Ut,closing:!0};if(!wn(e,"/"))throw new Error("Unexpected character "+e.remaining().charAt(0)+' (expected "/")');r.name=n(e);if(!r.name)throw new Error("Unexpected character "+e.remaining().charAt(0)+" (expected tag name)");if(!wn(e,">"))throw new Error("Unexpected character "+e.remaining().charAt(0)+' (expected ">")');return r},n=bn(/^[a-zA-Z][a-zA-Z0-9\-]*/),r=function(e){var t,n,r;t=e.pos,gn(e),r=i(e);if(!r)return e.pos=t,null;n=[];while(r!==null)n[n.length]=r,gn(e),r=i(e);return n},i=function(e){var t,n,r;return n=s(e),n?(t={name:n},r=o(e),r&&(t.value=r),t):null},s=bn(/^[^\s"'>\/=]+/),o=function(e){var t,n;return t=e.pos,gn(e),wn(e,"=")?(gn(e),n=c(e,"'")||c(e,'"')||u(e),n===null?(e.pos=t,null):n):(e.pos=t,null)},f=bn(/^[^\s"'=<>`]+/),a=function(e){var t,n,r;return t=e.pos,n=f(e),n?((r=n.indexOf(e.delimiters[0]))!==-1&&(n=n.substr(0,r),e.pos=t+n.length),{type:Mt,value:n}):null},u=function(e){var t,n;t=[],n=Bn(e)||a(e);while(n!==null)t[t.length]=n,n=Bn(e)||a(e);return t.length?t:null},c=function(e,t){var n,r,i;n=e.pos;if(!wn(e,t))return null;r=[],i=Bn(e)||l(e,t);while(i!==null)r[r.length]=i,i=Bn(e)||l(e,t);return wn(e,t)?r:(e.pos=n,null)},l=function(e,t){var n,r,i;n=e.pos,i=e.remaining(),r=zn(i,[t,e.delimiters[0],e.delimiters[1]]);if(r===-1)throw new Error("Quoted attribute value must have a closing quote");return r?(e.pos+=r,{type:Mt,value:i.substr(0,r)}):null}})();var Fn=function(e){var t,n;return n=e.remaining(),t=zn(n,["<",e.delimiters[0],e.tripleDelimiters[0]]),t?(t===-1&&(t=n.length),e.pos+=t,{type:Mt,value:n.substr(0,t)}):null};Nt=function(e){var t=Bn(e)||jn(e)||Fn(e);return t};var In=function(e){var t,n,r,i,s;t=e.pos,n="",r=Un(e),r&&(n+=r),i=qn(e),i&&(n+=i);if(!n)return"";s=In(e);while(s!=="")n+=s;return n},qn=bn(/^[^\\"]+/),Rn=function(e){var t;return wn(e,"\\")?(t=e.str.charAt(e.pos),e.pos+=1,t):null},Un=function(e){var t="",n;n=Rn(e);while(n)t+=n,n=Rn(e);return t||null},zn=function(e,t){var n,r,i;n=t.length;while(n--){r=e.indexOf(t[n]);if(!r)return 0;if(r===-1)continue;if(!i||r<i)i=r}return i||-1},Wn=function(e){var t,n,r,i,s;t=e.pos,n="",r=Un(e),r&&(n+=r),i=Xn(e),i&&(n+=i);if(n){s=Wn(e);while(s)n+=s,s=Wn(e)}return n},Xn=bn(/^[^\\']+/);(function(){var e,t,n,r;e=/^\s*$/,t=/<!--\s*\{\{\s*>\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,n=/<!--\s*\{\{\s*\/\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,f=function(n,i){var s,o,u,a;return i=i||{},t.test(n)?r(n,i):(i.sanitize===!0&&(i.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),s=Ct(n,i),i.preserveWhitespace||(a=s[0],a&&a.type===Mt&&e.test(a.value)&&s.shift(),a=s[s.length-1],a&&a.type===Mt&&e.test(a.value)&&s.pop()),o=Tt(s,i,i.preserveWhitespace),u=o.toJSON(),typeof u=="string"?[u]:u)},r=function(e,r){var i,s,o,u,a,l;o={},i="",s=e;while(a=t.exec(s)){u=a[1],i+=s.substr(0,a.index),s=s.substring(a.index+a[0].length),l=n.exec(s);if(!l||l[1]!==u)throw new Error("Inline partials must have a closing delimiter, and cannot be nested");o[u]=f(s.substr(0,l.index),r),s=s.substring(l.index+l[0].length)}return{main:f(i,r),partials:o}}})(),Ct=function(e,n){var r,i,s,o,u;n=n||{},r={str:Lt(e),pos:0,delimiters:n.delimiters||t.delimiters,tripleDelimiters:n.tripleDelimiters||t.tripleDelimiters,remaining:function(){return r.str.substring(r.pos)}},i=[];while(r.pos<r.str.length){s=Nt(r);if(s===null&&r.remaining())throw o=r.str.substr(0,r.pos).substr(-20),o.length===20&&(o="..."+o),u=r.remaining().substr(0,20),u.length===20&&(u+="..."),new Error("Could not parse template: "+(o?o+"<- ":"")+"failed at character "+r.pos+" ->"+u);i[i.length]=s}return At(i),kt(i),i},t.prototype=i,t.partials={},t.delimiters=["{{","}}"],t.tripleDelimiters=["{{{","}}}"],t.adaptors=s,t.eventDefinitions=o,t.easing=u,t.transitions=h,t.extend=a,t.interpolate=l,t.interpolators=c,t.parse=f,t.VERSION=n,typeof module!="undefined"&&module.exports?module.exports=t:typeof define=="function"&&define.amd?define("ractive",[],function(){return t}):e.Ractive=t})(typeof window!="undefined"?window:this),function(){define("palette/colors",[],function(){var e,t,n,r,i,s,o;return t=function(e){return Math.min(255,Math.floor(e))},s=function(e){return function(n){return{r:t(e*n.r),g:t(e*n.g),b:t(e*n.b)}}},e=function(e,n){return{r:t((e.r+n.r)/2),g:t((e.g+n.g)/2),b:t((e.b+n.b)/2)}},r=s(1.2),n=s(.8),i=function(t,i){var s;return s=e(t,i),[r(t),t,n(t),r(s),s,n(s),r(i),i,n(i)]},o=function(e){return"rgb("+Math.floor(e.r)+","+Math.floor(e.g)+","+Math.floor(e.b)+")"},{multiply:s,average:e,lighten:r,darken:n,mix:i,string:o}})}.call(this),function(){define("palette/util",[],function(){return{palette_to_function:function(e){return function(t){return e[t%e.length]}}}})}.call(this),function(){define("paths/linear",[],function(){return function(e,t){var n,r,i,s;return n=e[0],r=e[1],i=t[0],s=t[1],function(e){return i+(s-i)*(e-n)/(r-n)}}})}.call(this),function(){define("paths/path",[],function(){var e;return e=function(t){var n,r,i,s,o;return n=t||[],o=function(e,t){var n;return n=e.slice(0,e.length),n.push(t),n},s=function(e){var t,n;return t=e.command,n=e.params,""+t+" "+n.join(" ")},i=function(e){var t,n;t=e.command,n=e.params;switch(t){case"M":return[n[0],n[1]];case"L":return[n[0],n[1]];case"Z":return null;case"Q":return[n[2],n[3]];case"A":return[n[5],n[6]]}},r=function(t){return e(o(n,t))},{moveto:function(e,t){return r({command:"M",params:[e,t]})},lineto:function(e,t){return r({command:"L",params:[e,t]})},closepath:function(){return r({command:"Z",params:[]})},curveto:function(e,t,n,i){return r({command:"S",params:[e,t,n,i]})},qcurveto:function(e,t){return r({command:"Q",params:[e,t]})},arc:function(e,t,n,i,s,o,u){return r({command:"A",params:[e,t,n,i,s,o,u]})},print:function(){return n.map(s).join(" ")},points:function(){var e,t,r,s,o;t=[],r=function(){var n;n=i(e);if(n)return t.push(n)};for(s=0,o=n.length;s<o;s++)e=n[s],r();return t}}},e})}.call(this),function(){define("paths/ops",[],function(){var e,t,n,r,i,s,o;return n=function(e){return e.reduce(function(e,t){return Math.min(e,t)})},t=function(e){return e.reduce(function(e,t){return Math.max(e,t)})},s=function(e,t){var n,r,i,s;return n=e[0],r=e[1],i=t[0],s=t[1],[n+i,r+s]},r=function(e,t){var n,r,i,s;return n=e[0],r=e[1],i=t[0],s=t[1],[n-i,r-s]},o=function(e,t){var n,r;return n=t[0],r=t[1],[e*n,e*r]},e=function(e){return o(1/e.length,e.reduce(s))},i=function(e,t){return o(e,[Math.sin(t),-Math.cos(t)])},{min:n,max:t,plus:s,minus:r,times:o,average:e,on_circle:i}})}.call(this),function(){var e=[].slice;define("paths/sector",["./path","./ops"],function(t,n){return function(r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;return a=r.center,v=r.r,i=r.R,m=r.start,c=r.end,s=n.plus(a,n.on_circle(i,m)),o=n.plus(a,n.on_circle(i,c)),u=n.plus(a,n.on_circle(v,c)),l=n.plus(a,n.on_circle(v,m)),d=(g=(y=(b=(w=t()).moveto.apply(w,s)).arc.apply(b,[i,i,0,0,1].concat(e.call(o)))).lineto.apply(y,u)).arc.apply(g,[v,v,0,0,0].concat(e.call(l))).closepath(),h=(m+c)/2,p=(v+i)/2,f=n.plus(a,n.on_circle(p,h)),{path:d,centroid:f}}})}.call(this),function(){define("paths/pie",["./linear","./sector"],function(e,t){var n,r,i;return i=function(e){return e.reduce(function(e,t){return e+t})},n=function(e){return Math.floor(Math.random()*e)},r=function(){return"rgb("+n(256)+", "+n(256)+", "+n(256)+")"},function(n){var s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;f=n.data,o=n.accessor,u=n.center,p=n.r,s=n.R,a=n.colors,a==null&&(a=r),y=function(){var e,t,n;n=[];for(e=0,t=f.length;e<t;e++)c=f[e],n.push(o(c));return n}(),d=i(y),v=e([0,d],[0,2*Math.PI]),h=[],m=0;for(l=b=0,w=f.length;b<w;l=++b)c=f[l],g=y[l],h.push({item:c,color:a(l),sector:t({center:u,r:p,R:s,start:v(m),end:v(m+g)})}),m+=g;return h}})}.call(this),define("text",["module"],function(e){var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.10",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}d.isBuild=i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i.indexOf("﻿")===0&&(i=i.substring(1)),t(i)}catch(s){r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),define("text!templates/pie.html",[],function(){return'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h2 class="panel-title">Pie Chart</h2>\n  </div>\n\n  <div class="panel-body">\n    <p class="alert alert-info">Here is a pie chart example. Sectors are clickable.</p>\n\n    <svg width=375 height=400>\n      <g transform="translate(200, 200)">\n        {{# Pie({center: center, r: r, R: R, data: data, accessor: accessor, colors: colors}): num }}\n          <g transform="translate({{ move(sector.centroid, expanded[num]) }})">\n            <linearGradient id = "grad-{{ num }}">\n              <stop stop-color = "{{ color_string(color) }}" offset = "0%"/>\n              <stop stop-color = "{{ lighten(color) }}" offset = "100%"/>\n            </linearGradient>\n            <path on-click="expand" d="{{ sector.path.print() }}" fill="url(#grad-{{ num }})" />\n            <text text-anchor="middle" transform="translate({{ point(sector.centroid) }})">{{ item.name }}</text>\n          </g>\n        {{/ end of pie}}\n      </g>\n    </svg>\n\n    {{# data: num }}\n      {{# expanded[num] == 1}}\n        <div class="country-info">\n          <h4>{{ name }}</h4>\n          <p>Population: <span class="label label-info">{{ population }}</span></p>\n        </div>\n      {{/ end if }}\n    {{/ data }}\n  </div>\n</div>\n'}),function(){define("views/pie",["ractive","palette/colors","palette/util","paths/pie","text!templates/pie.html"],function(e,t,n,r,i){var s,o,u;return s=[{name:"Italy",population:59859996},{name:"Mexico",population:118395054},{name:"France",population:65806e3},{name:"Argentina",population:40117096},{name:"Japan",population:12729e4}],o=t.mix({r:130,g:140,b:210},{r:180,g:205,b:150}),u=new e({el:"#pie",template:i,data:{center:[0,0],r:60,R:140,data:s,accessor:function(e){return e.population},colors:n.palette_to_function(o),expanded:[0,0,0,0,0],Pie:r,move:function(e,t){var n,r,i;return r=e[0],i=e[1],n=t||0,""+n*r/3+", "+n*i/3},point:function(e){var t,n;return t=e[0],n=e[1],""+t+", "+n},lighten:function(e){return t.string(t.lighten(e))},color_string:t.string}}),u.on("expand",function(e){var t,n;return t=e.index.num,n=[0,0,0,0,0],n[t]=1,this.animate("expanded",n,{easing:"easeOut"})})})}.call(this),function(){define("paths/polygon",["./path","./ops"],function(e,t){return function(n){var r,i,s,o,u,a,f;return u=n.points,r=n.closed,s=u.length,i=u[0],a=u.slice(1,+s+1||9e9),o=a.reduce(function(e,t){return e.lineto.apply(e,t)},(f=e()).moveto.apply(f,i)),{path:r?o.closepath():o,centroid:t.average(u)}}})}.call(this),function(){define("paths/stock",["./polygon","./linear","./ops"],function(e,t,n){var r;return r=function(e,t){var r,i,s,o,u;return s=function(){var n,i,s;s=[];for(n=0,i=e.length;n<i;n++)r=e[n],s.push(t(r));return s}(),o=s.sort(function(e,t){var n,r,i,s;return n=e[0],r=e[1],i=t[0],s=t[1],n-i}),u=o.map(function(e){return e[1]}),i=o.length,{points:o,xmin:o[0][0],xmax:o[i-1][0],ymin:n.min(u),ymax:n.max(u)}},function(i){var s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T;return f=i.data,g=i.xaccessor,E=i.yaccessor,m=i.width,h=i.height,a=i.colors,u=i.closed,g==null&&(g=function(e){var t,n;return t=e[0],n=e[1],t}),E==null&&(E=function(e){var t,n;return t=e[0],n=e[1],n}),c=function(e){return[g(e),-E(e)]},s=function(){var e,t,n;n=[];for(e=0,t=f.length;e<t;e++)l=f[e],n.push(r(l,c));return n}(),b=n.min(s.map(function(e){return e.xmin})),y=n.max(s.map(function(e){return e.xmax})),x=n.min(s.map(function(e){return e.ymin})),S=n.max(s.map(function(e){return e.ymax})),u&&(x=Math.min(x,0),S=Math.max(S,0)),o=u?0:S,w=t([b,y],[0,m]),T=t([x,S],[0,h]),v=function(e){var t,n;return t=e[0],n=e[1],[w(t),T(n)]},p=-1,d=s.map(function(t){var n,r,i,s,u;return n=t.points,u=t.xmin,s=t.xmax,r=n.map(v),n.push([s,o]),n.push([u,o]),i=n.map(v),p+=1,{line:e({points:r,closed:!1}),area:e({points:i,closed:!0}),color:a(p)}}),{polygons:d,xscale:w,yscale:T}}})}.call(this),define("json",["text"],function(text){function cacheBust(e){return e=e.replace(CACHE_BUST_FLAG,""),e+=e.indexOf("?")<0?"?":"&",e+CACHE_BUST_QUERY_PARAM+"="+Math.round(2147483647*Math.random())}var CACHE_BUST_QUERY_PARAM="bust",CACHE_BUST_FLAG="!bust",jsonParse=typeof JSON!="undefined"&&typeof JSON.parse=="function"?JSON.parse:function(val){return eval("("+val+")")},buildMap={};return{load:function(e,t,n,r){!r.isBuild||r.inlineJSON!==!1&&e.indexOf(CACHE_BUST_QUERY_PARAM+"=")===-1?text.get(t.toUrl(e),function(t){r.isBuild?(buildMap[e]=t,n(t)):n(jsonParse(t))},n.error,{accept:"application/json"}):n(null)},normalize:function(e,t){return e.indexOf(CACHE_BUST_FLAG)===-1?e:cacheBust(e)},write:function(e,t,n){if(t in buildMap){var r=buildMap[t];n('define("'+e+"!"+t+'", function(){ return '+r+";});\n")}}}}),define("json!data/stock.json",function(){return{MSFT:[{date:"Jan 2000",value:39.81},{date:"Feb 2000",value:36.35},{date:"Mar 2000",value:43.22},{date:"Apr 2000",value:28.37},{date:"May 2000",value:25.45},{date:"Jun 2000",value:32.54},{date:"Jul 2000",value:28.4},{date:"Aug 2000",value:28.4},{date:"Sep 2000",value:24.53},{date:"Oct 2000",value:28.02},{date:"Nov 2000",value:23.34},{date:"Dec 2000",value:17.65},{date:"Jan 2001",value:24.84},{date:"Feb 2001",value:24},{date:"Mar 2001",value:22.25},{date:"Apr 2001",value:27.56},{date:"May 2001",value:28.14},{date:"Jun 2001",value:29.7},{date:"Jul 2001",value:26.93},{date:"Aug 2001",value:23.21},{date:"Sep 2001",value:20.82},{date:"Oct 2001",value:23.65},{date:"Nov 2001",value:26.12},{date:"Dec 2001",value:26.95},{date:"Jan 2002",value:25.92},{date:"Feb 2002",value:23.73},{date:"Mar 2002",value:24.53},{date:"Apr 2002",value:21.26},{date:"May 2002",value:20.71},{date:"Jun 2002",value:22.25},{date:"Jul 2002",value:19.52},{date:"Aug 2002",value:19.97},{date:"Sep 2002",value:17.79},{date:"Oct 2002",value:21.75},{date:"Nov 2002",value:23.46},{date:"Dec 2002",value:21.03},{date:"Jan 2003",value:19.31},{date:"Feb 2003",value:19.34},{date:"Mar 2003",value:19.76},{date:"Apr 2003",value:20.87},{date:"May 2003",value:20.09},{date:"Jun 2003",value:20.93},{date:"Jul 2003",value:21.56},{date:"Aug 2003",value:21.65},{date:"Sep 2003",value:22.69},{date:"Oct 2003",value:21.45},{date:"Nov 2003",value:21.1},{date:"Dec 2003",value:22.46},{date:"Jan 2004",value:22.69},{date:"Feb 2004",value:21.77},{date:"Mar 2004",value:20.46},{date:"Apr 2004",value:21.45},{date:"May 2004",value:21.53},{date:"Jun 2004",value:23.44},{date:"Jul 2004",value:23.38},{date:"Aug 2004",value:22.47},{date:"Sep 2004",value:22.76},{date:"Oct 2004",value:23.02},{date:"Nov 2004",value:24.6},{date:"Dec 2004",value:24.52},{date:"Jan 2005",value:24.11},{date:"Feb 2005",value:23.15},{date:"Mar 2005",value:22.24},{date:"Apr 2005",value:23.28},{date:"May 2005",value:23.82},{date:"Jun 2005",value:22.93},{date:"Jul 2005",value:23.64},{date:"Aug 2005",value:25.35},{date:"Sep 2005",value:23.83},{date:"Oct 2005",value:23.8},{date:"Nov 2005",value:25.71},{date:"Dec 2005",value:24.29},{date:"Jan 2006",value:26.14},{date:"Feb 2006",value:25.04},{date:"Mar 2006",value:25.36},{date:"Apr 2006",value:22.5},{date:"May 2006",value:21.19},{date:"Jun 2006",value:21.8},{date:"Jul 2006",value:22.51},{date:"Aug 2006",value:24.13},{date:"Sep 2006",value:25.68},{date:"Oct 2006",value:26.96},{date:"Nov 2006",value:27.66},{date:"Dec 2006",value:28.13},{date:"Jan 2007",value:29.07},{date:"Feb 2007",value:26.63},{date:"Mar 2007",value:26.35},{date:"Apr 2007",value:28.3},{date:"May 2007",value:29.11},{date:"Jun 2007",value:27.95},{date:"Jul 2007",value:27.5},{date:"Aug 2007",value:27.34},{date:"Sep 2007",value:28.04},{date:"Oct 2007",value:35.03},{date:"Nov 2007",value:32.09},{date:"Dec 2007",value:34},{date:"Jan 2008",value:31.13},{date:"Feb 2008",value:26.07},{date:"Mar 2008",value:27.21},{date:"Apr 2008",value:27.34},{date:"May 2008",value:27.25},{date:"Jun 2008",value:26.47},{date:"Jul 2008",value:24.75},{date:"Aug 2008",value:26.36},{date:"Sep 2008",value:25.78},{date:"Oct 2008",value:21.57},{date:"Nov 2008",value:19.66},{date:"Dec 2008",value:18.91},{date:"Jan 2009",value:16.63},{date:"Feb 2009",value:15.81},{date:"Mar 2009",value:17.99},{date:"Apr 2009",value:19.84},{date:"May 2009",value:20.59},{date:"Jun 2009",value:23.42},{date:"Jul 2009",value:23.18},{date:"Aug 2009",value:24.43},{date:"Sep 2009",value:25.49},{date:"Oct 2009",value:27.48},{date:"Nov 2009",value:29.27},{date:"Dec 2009",value:30.34},{date:"Jan 2010",value:28.05},{date:"Feb 2010",value:28.67},{date:"Mar 2010",value:28.8}],AAPL:[{date:"Jan 2000",value:25.94},{date:"Feb 2000",value:28.66},{date:"Mar 2000",value:33.95},{date:"Apr 2000",value:31.01},{date:"May 2000",value:21},{date:"Jun 2000",value:26.19},{date:"Jul 2000",value:25.41},{date:"Aug 2000",value:30.47},{date:"Sep 2000",value:12.88},{date:"Oct 2000",value:9.78},{date:"Nov 2000",value:8.25},{date:"Dec 2000",value:7.44},{date:"Jan 2001",value:10.81},{date:"Feb 2001",value:9.12},{date:"Mar 2001",value:11.03},{date:"Apr 2001",value:12.74},{date:"May 2001",value:9.98},{date:"Jun 2001",value:11.62},{date:"Jul 2001",value:9.4},{date:"Aug 2001",value:9.27},{date:"Sep 2001",value:7.76},{date:"Oct 2001",value:8.78},{date:"Nov 2001",value:10.65},{date:"Dec 2001",value:10.95},{date:"Jan 2002",value:12.36},{date:"Feb 2002",value:10.85},{date:"Mar 2002",value:11.84},{date:"Apr 2002",value:12.14},{date:"May 2002",value:11.65},{date:"Jun 2002",value:8.86},{date:"Jul 2002",value:7.63},{date:"Aug 2002",value:7.38},{date:"Sep 2002",value:7.25},{date:"Oct 2002",value:8.03},{date:"Nov 2002",value:7.75},{date:"Dec 2002",value:7.16},{date:"Jan 2003",value:7.18},{date:"Feb 2003",value:7.51},{date:"Mar 2003",value:7.07},{date:"Apr 2003",value:7.11},{date:"May 2003",value:8.98},{date:"Jun 2003",value:9.53},{date:"Jul 2003",value:10.54},{date:"Aug 2003",value:11.31},{date:"Sep 2003",value:10.36},{date:"Oct 2003",value:11.44},{date:"Nov 2003",value:10.45},{date:"Dec 2003",value:10.69},{date:"Jan 2004",value:11.28},{date:"Feb 2004",value:11.96},{date:"Mar 2004",value:13.52},{date:"Apr 2004",value:12.89},{date:"May 2004",value:14.03},{date:"Jun 2004",value:16.27},{date:"Jul 2004",value:16.17},{date:"Aug 2004",value:17.25},{date:"Sep 2004",value:19.38},{date:"Oct 2004",value:26.2},{date:"Nov 2004",value:33.53},{date:"Dec 2004",value:32.2},{date:"Jan 2005",value:38.45},{date:"Feb 2005",value:44.86},{date:"Mar 2005",value:41.67},{date:"Apr 2005",value:36.06},{date:"May 2005",value:39.76},{date:"Jun 2005",value:36.81},{date:"Jul 2005",value:42.65},{date:"Aug 2005",value:46.89},{date:"Sep 2005",value:53.61},{date:"Oct 2005",value:57.59},{date:"Nov 2005",value:67.82},{date:"Dec 2005",value:71.89},{date:"Jan 2006",value:75.51},{date:"Feb 2006",value:68.49},{date:"Mar 2006",value:62.72},{date:"Apr 2006",value:70.39},{date:"May 2006",value:59.77},{date:"Jun 2006",value:57.27},{date:"Jul 2006",value:67.96},{date:"Aug 2006",value:67.85},{date:"Sep 2006",value:76.98},{date:"Oct 2006",value:81.08},{date:"Nov 2006",value:91.66},{date:"Dec 2006",value:84.84},{date:"Jan 2007",value:85.73},{date:"Feb 2007",value:84.61},{date:"Mar 2007",value:92.91},{date:"Apr 2007",value:99.8},{date:"May 2007",value:121.19},{date:"Jun 2007",value:122.04},{date:"Jul 2007",value:131.76},{date:"Aug 2007",value:138.48},{date:"Sep 2007",value:153.47},{date:"Oct 2007",value:189.95},{date:"Nov 2007",value:182.22},{date:"Dec 2007",value:198.08},{date:"Jan 2008",value:135.36},{date:"Feb 2008",value:125.02},{date:"Mar 2008",value:143.5},{date:"Apr 2008",value:173.95},{date:"May 2008",value:188.75},{date:"Jun 2008",value:167.44},{date:"Jul 2008",value:158.95},{date:"Aug 2008",value:169.53},{date:"Sep 2008",value:113.66},{date:"Oct 2008",value:107.59},{date:"Nov 2008",value:92.67},{date:"Dec 2008",value:85.35},{date:"Jan 2009",value:90.13},{date:"Feb 2009",value:89.31},{date:"Mar 2009",value:105.12},{date:"Apr 2009",value:125.83},{date:"May 2009",value:135.81},{date:"Jun 2009",value:142.43},{date:"Jul 2009",value:163.39},{date:"Aug 2009",value:168.21},{date:"Sep 2009",value:185.35},{date:"Oct 2009",value:188.5},{date:"Nov 2009",value:199.91},{date:"Dec 2009",value:210.73},{date:"Jan 2010",value:192.06},{date:"Feb 2010",value:204.62},{date:"Mar 2010",value:223.02}],IBM:[{date:"Jan 2000",value:100.52},{date:"Feb 2000",value:92.11},{date:"Mar 2000",value:106.11},{date:"Apr 2000",value:99.95},{date:"May 2000",value:96.31},{date:"Jun 2000",value:98.33},{date:"Jul 2000",value:100.74},{date:"Aug 2000",value:118.62},{date:"Sep 2000",value:101.19},{date:"Oct 2000",value:88.5},{date:"Nov 2000",value:84.12},{date:"Dec 2000",value:76.47},{date:"Jan 2001",value:100.76},{date:"Feb 2001",value:89.98},{date:"Mar 2001",value:86.63},{date:"Apr 2001",value:103.7},{date:"May 2001",value:100.82},{date:"Jun 2001",value:102.35},{date:"Jul 2001",value:94.87},{date:"Aug 2001",value:90.25},{date:"Sep 2001",value:82.82},{date:"Oct 2001",value:97.58},{date:"Nov 2001",value:104.5},{date:"Dec 2001",value:109.36},{date:"Jan 2002",value:97.54},{date:"Feb 2002",value:88.82},{date:"Mar 2002",value:94.15},{date:"Apr 2002",value:75.82},{date:"May 2002",value:72.97},{date:"Jun 2002",value:65.31},{date:"Jul 2002",value:63.86},{date:"Aug 2002",value:68.52},{date:"Sep 2002",value:53.01},{date:"Oct 2002",value:71.76},{date:"Nov 2002",value:79.16},{date:"Dec 2002",value:70.58},{date:"Jan 2003",value:71.22},{date:"Feb 2003",value:71.13},{date:"Mar 2003",value:71.57},{date:"Apr 2003",value:77.47},{date:"May 2003",value:80.48},{date:"Jun 2003",value:75.42},{date:"Jul 2003",value:74.28},{date:"Aug 2003",value:75.12},{date:"Sep 2003",value:80.91},{date:"Oct 2003",value:81.96},{date:"Nov 2003",value:83.08},{date:"Dec 2003",value:85.05},{date:"Jan 2004",value:91.06},{date:"Feb 2004",value:88.7},{date:"Mar 2004",value:84.41},{date:"Apr 2004",value:81.04},{date:"May 2004",value:81.59},{date:"Jun 2004",value:81.19},{date:"Jul 2004",value:80.19},{date:"Aug 2004",value:78.17},{date:"Sep 2004",value:79.13},{date:"Oct 2004",value:82.84},{date:"Nov 2004",value:87.15},{date:"Dec 2004",value:91.16},{date:"Jan 2005",value:86.39},{date:"Feb 2005",value:85.78},{date:"Mar 2005",value:84.66},{date:"Apr 2005",value:70.77},{date:"May 2005",value:70.18},{date:"Jun 2005",value:68.93},{date:"Jul 2005",value:77.53},{date:"Aug 2005",value:75.07},{date:"Sep 2005",value:74.7},{date:"Oct 2005",value:76.25},{date:"Nov 2005",value:82.98},{date:"Dec 2005",value:76.73},{date:"Jan 2006",value:75.89},{date:"Feb 2006",value:75.09},{date:"Mar 2006",value:77.17},{date:"Apr 2006",value:77.05},{date:"May 2006",value:75.04},{date:"Jun 2006",value:72.15},{date:"Jul 2006",value:72.7},{date:"Aug 2006",value:76.35},{date:"Sep 2006",value:77.26},{date:"Oct 2006",value:87.06},{date:"Nov 2006",value:86.95},{date:"Dec 2006",value:91.9},{date:"Jan 2007",value:93.79},{date:"Feb 2007",value:88.18},{date:"Mar 2007",value:89.44},{date:"Apr 2007",value:96.98},{date:"May 2007",value:101.54},{date:"Jun 2007",value:100.25},{date:"Jul 2007",value:105.4},{date:"Aug 2007",value:111.54},{date:"Sep 2007",value:112.6},{date:"Oct 2007",value:111},{date:"Nov 2007",value:100.9},{date:"Dec 2007",value:103.7},{date:"Jan 2008",value:102.75},{date:"Feb 2008",value:109.64},{date:"Mar 2008",value:110.87},{date:"Apr 2008",value:116.23},{date:"May 2008",value:125.14},{date:"Jun 2008",value:114.6},{date:"Jul 2008",value:123.74},{date:"Aug 2008",value:118.16},{date:"Sep 2008",value:113.53},{date:"Oct 2008",value:90.24},{date:"Nov 2008",value:79.65},{date:"Dec 2008",value:82.15},{date:"Jan 2009",value:89.46},{date:"Feb 2009",value:90.32},{date:"Mar 2009",value:95.09},{date:"Apr 2009",value:101.29},{date:"May 2009",value:104.85},{date:"Jun 2009",value:103.01},{date:"Jul 2009",value:116.34},{date:"Aug 2009",value:117},{date:"Sep 2009",value:118.55},{date:"Oct 2009",value:119.54},{date:"Nov 2009",value:125.79},{date:"Dec 2009",value:130.32},{date:"Jan 2010",value:121.85},{date:"Feb 2010",value:127.16},{date:"Mar 2010",value:125.55}],AMZN:[{date:"Jan 2000",value:64.56},{date:"Feb 2000",value:68.87},{date:"Mar 2000",value:67},{date:"Apr 2000",value:55.19},{date:"May 2000",value:48.31},{date:"Jun 2000",value:36.31},{date:"Jul 2000",value:30.12},{date:"Aug 2000",value:41.5},{date:"Sep 2000",value:38.44},{date:"Oct 2000",value:36.62},{date:"Nov 2000",value:24.69},{date:"Dec 2000",value:15.56},{date:"Jan 2001",value:17.31},{date:"Feb 2001",value:10.19},{date:"Mar 2001",value:10.23},{date:"Apr 2001",value:15.78},{date:"May 2001",value:16.69},{date:"Jun 2001",value:14.15},{date:"Jul 2001",value:12.49},{date:"Aug 2001",value:8.94},{date:"Sep 2001",value:5.97},{date:"Oct 2001",value:6.98},{date:"Nov 2001",value:11.32},{date:"Dec 2001",value:10.82},{date:"Jan 2002",value:14.19},{date:"Feb 2002",value:14.1},{date:"Mar 2002",value:14.3},{date:"Apr 2002",value:16.69},{date:"May 2002",value:18.23},{date:"Jun 2002",value:16.25},{date:"Jul 2002",value:14.45},{date:"Aug 2002",value:14.94},{date:"Sep 2002",value:15.93},{date:"Oct 2002",value:19.36},{date:"Nov 2002",value:23.35},{date:"Dec 2002",value:18.89},{date:"Jan 2003",value:21.85},{date:"Feb 2003",value:22.01},{date:"Mar 2003",value:26.03},{date:"Apr 2003",value:28.69},{date:"May 2003",value:35.89},{date:"Jun 2003",value:36.32},{date:"Jul 2003",value:41.64},{date:"Aug 2003",value:46.32},{date:"Sep 2003",value:48.43},{date:"Oct 2003",value:54.43},{date:"Nov 2003",value:53.97},{date:"Dec 2003",value:52.62},{date:"Jan 2004",value:50.4},{date:"Feb 2004",value:43.01},{date:"Mar 2004",value:43.28},{date:"Apr 2004",value:43.6},{date:"May 2004",value:48.5},{date:"Jun 2004",value:54.4},{date:"Jul 2004",value:38.92},{date:"Aug 2004",value:38.14},{date:"Sep 2004",value:40.86},{date:"Oct 2004",value:34.13},{date:"Nov 2004",value:39.68},{date:"Dec 2004",value:44.29},{date:"Jan 2005",value:43.22},{date:"Feb 2005",value:35.18},{date:"Mar 2005",value:34.27},{date:"Apr 2005",value:32.36},{date:"May 2005",value:35.51},{date:"Jun 2005",value:33.09},{date:"Jul 2005",value:45.15},{date:"Aug 2005",value:42.7},{date:"Sep 2005",value:45.3},{date:"Oct 2005",value:39.86},{date:"Nov 2005",value:48.46},{date:"Dec 2005",value:47.15},{date:"Jan 2006",value:44.82},{date:"Feb 2006",value:37.44},{date:"Mar 2006",value:36.53},{date:"Apr 2006",value:35.21},{date:"May 2006",value:34.61},{date:"Jun 2006",value:38.68},{date:"Jul 2006",value:26.89},{date:"Aug 2006",value:30.83},{date:"Sep 2006",value:32.12},{date:"Oct 2006",value:38.09},{date:"Nov 2006",value:40.34},{date:"Dec 2006",value:39.46},{date:"Jan 2007",value:37.67},{date:"Feb 2007",value:39.14},{date:"Mar 2007",value:39.79},{date:"Apr 2007",value:61.33},{date:"May 2007",value:69.14},{date:"Jun 2007",value:68.41},{date:"Jul 2007",value:78.54},{date:"Aug 2007",value:79.91},{date:"Sep 2007",value:93.15},{date:"Oct 2007",value:89.15},{date:"Nov 2007",value:90.56},{date:"Dec 2007",value:92.64},{date:"Jan 2008",value:77.7},{date:"Feb 2008",value:64.47},{date:"Mar 2008",value:71.3},{date:"Apr 2008",value:78.63},{date:"May 2008",value:81.62},{date:"Jun 2008",value:73.33},{date:"Jul 2008",value:76.34},{date:"Aug 2008",value:80.81},{date:"Sep 2008",value:72.76},{date:"Oct 2008",value:57.24},{date:"Nov 2008",value:42.7},{date:"Dec 2008",value:51.28},{date:"Jan 2009",value:58.82},{date:"Feb 2009",value:64.79},{date:"Mar 2009",value:73.44},{date:"Apr 2009",value:80.52},{date:"May 2009",value:77.99},{date:"Jun 2009",value:83.66},{date:"Jul 2009",value:85.76},{date:"Aug 2009",value:81.19},{date:"Sep 2009",value:93.36},{date:"Oct 2009",value:118.81},{date:"Nov 2009",value:135.91},{date:"Dec 2009",value:134.52},{date:"Jan 2010",value:125.41},{date:"Feb 2010",value:118.4},{date:"Mar 2010",value:128.82}]}}),define("text!templates/stock.html",[],function(){return'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h2 class="panel-title">Line Chart</h2>\n  </div>\n\n  <div class="panel-body">\n    <p class="alert alert-info">Here is a line chart example. Try switching data.</p>\n\n	<svg width=500 height=380>\n	  <g>\n	    {{# Stock({data: data, xaccessor: xaccessor, yaccessor: yaccessor, width: width, height: height, colors: colors, closed: false }).polygons }}\n	      <path d="{{ line.path.print() }}" stroke="{{ color }}" fill="none" />\n	      <path d="{{ area.path.print() }}" stroke="none" fill="{{ color }}" />\n	    {{/ end of stock }}\n	  </g>\n	</svg>\n  </div>\n</div>'}),function(){define("views/stock",["ractive","paths/stock","palette/util","json!data/stock.json","text!templates/stock.html"],function(e,t,n,r,i){var s,o,u;return o=function(e){var t,n,r,i,s,o;return o=e.split(" "),r=o[0],s=o[1],i={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},n=i[r],t=new Date,t.setMonth(n),t.setYear(parseInt(s,10)-1900),t.getTime()},s=["#707B82","#3E90F0","#7881C2"],u=new e({el:"#stock",template:i,data:{Stock:t,data:[r.MSFT,r.AAPL,r.AMZN],xaccessor:function(e){var t;return t=e.date,o(t)},yaccessor:function(e){var t;return t=e.value,t},width:500,height:350,colors:n.palette_to_function(s),closed:!1}})})}.call(this),function(){define("paths/radar",["./polygon","./ops"],function(e,t){var n,r,i;return n=function(e){var t,n,r,i,s,o,u,a,f,l;n=[],r=function(){var t,n,r;r=[];for(t=0,n=e.length;t<n;t++)i=e[t],r.push(Object.keys(i));return r}();for(o=0,a=e.length;o<a;o++){s=e[o],l=Object.keys(s);for(u=0,f=l.length;u<f;u++)t=l[u],n.indexOf(t)===-1&&n.push(t)}return n},i=function(e){var t,n,r,i,s;t={},r=function(e){return t[e]=function(t){return t[e]}};for(i=0,s=e.length;i<s;i++)n=e[i],r(n);return t},r=function(e,n){var r,i;return r=Object.keys(n),i=e.map(function(e){var i;return i=r.map(function(t){return n[t](e)}),t.max(i)}),t.max(i)},function(s){var o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;return l=s.data,o=s.accessor,a=s.center,v=s.r,p=s.max,g=s.rings,f=s.colors,g==null&&(g=3),o==null&&(o=i(n(l))),h=Object.keys(o),y=h.length,u=2*Math.PI/y,c=-1,p==null&&(p=r(l,o)),m=function(){w=[];for(var e=1;1<=g?e<=g:e>=g;1<=g?e++:e--)w.push(e);return w}.apply(this).map(function(n){var r,i,s,o,f;return i=v*n/g,r=function(){f=[];for(var e=0,t=y-1;0<=t?e<=t:e>=t;0<=t?e++:e--)f.push(e);return f}.apply(this).map(function(e){return t.plus(a,t.on_circle(i,e*u))}),e({points:r,closed:!0})}),d=l.map(function(n){var r,i,s,l;return c+=1,r=function(){l=[];for(var e=0,t=y-1;0<=t?e<=t:e>=t;0<=t?e++:e--)l.push(e);return l}.apply(this).map(function(e){var r;return r=h[e],t.plus(a,t.on_circle(v*o[r](n)/p,e*u))}),{polygon:e({points:r,closed:!0}),item:n,color:f(c)}}),{polygons:d,rings:m}}})}.call(this),define("text!templates/radar.html",[],function(){return'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h2 class="panel-title">Radar Chart</h2>\n  </div>\n\n  <div class="panel-body">\n    <p class="alert alert-info">Here is a radar chart showing Pokémon stats. Try changing Pokémon.</p>\n\n    <select value=\'{{ name }}\'>\n      {{# names:num }}\n        <option value=\'{{ num }}\'>{{ . }}</option>\n      {{/ names }}\n    </select>\n\n    {{# data }}\n      <div class="pokemon-info">\n        <h4>{{ name }}</h4>\n        <p>HP: <span class="label label-info">{{ Math.floor(hp) }}</span></p>\n        <p>Attack: <span class="label label-info">{{ Math.floor(attack) }}</span></p>\n        <p>Defense: <span class="label label-info">{{ Math.floor(defense) }}</span></p>\n        <p>Sp. Attack: <span class="label label-info">{{ Math.floor(sp_attack) }}</span></p>\n        <p>Sp. Defense: <span class="label label-info">{{ Math.floor(sp_defense) }}</span></p>\n        <p>Speed: <span class="label label-info">{{ Math.floor(speed) }}</span></p>\n      </div>\n    {{/ data }}\n\n    <svg width=375 height=400>\n      <g transform="translate(200,200)">\n        {{# Radar({center: center, r: r, data: data, accessor: accessor, max: max, colors: colors}) }}\n          {{# rings:num }}\n            {{# num == 2 }}\n              {{# path.points():num }}\n                <text text-anchor="middle" transform="{{ translate(.) }}">{{ labels[num] }}</text>\n                <line x1="{{ x(.) }}" y1="{{ y(.) }}" x2="0" y2="0" stroke="gray" />\n              {{/ end points }}\n            {{/ end if }}\n            {{^ num == 2 }}\n              <path d="{{ path.print() }}" fill="none" stroke="gray" />\n            {{/ end else }}\n          {{/ rings }}\n          {{# polygons }}\n            <path d="{{ polygon.path.print() }}" fill="{{ lighten(col) }}" stroke="{{ color_string(col) }}" />\n          {{/ polygons }}\n        {{/ end of radar}}\n      </g>\n    </svg>\n  </div>\n</div>\n'}),function(){define("views/radar",["ractive","palette/colors","palette/util","paths/radar","text!templates/radar.html"],function(e,t,n,r,i){var s,o,u,a,f,l;return o=function(e){var t,n,r,i,s;t={},r=function(e){return t[e]=function(t){return t[e]}};for(i=0,s=e.length;i<s;i++)n=e[i],r(n);return t},f=[{name:"Bulbasaur",hp:45,attack:49,defense:49,sp_attack:65,sp_defense:65,speed:45},{name:"Ivysaur",hp:60,attack:62,defense:63,sp_attack:80,sp_defense:80,speed:60},{name:"Venusaur",hp:80,attack:82,defense:83,sp_attack:100,sp_defense:100,speed:80},{name:"Kakuna",hp:45,attack:25,defense:50,sp_attack:25,sp_defense:25,speed:35},{name:"Charmeleon",hp:58,attack:64,defense:58,sp_attack:80,sp_defense:65,speed:80},{name:"Squirtle",hp:44,attack:48,defense:65,sp_attack:50,sp_defense:64,speed:43},{name:"Blastoise",hp:79,attack:83,defense:100,sp_attack:85,sp_defense:105,speed:78},{name:"Butterfree",hp:60,attack:45,defense:50,sp_attack:90,sp_defense:80,speed:70}],a=t.mix({r:130,g:140,b:210},{r:180,g:205,b:150}),s=n.palette_to_function(a),u=["hp","attack","defense","sp_attack","sp_defense","speed"],l=new e({el:"#radar",template:i,data:{Radar:r,center:[0,0],r:130,max:100,accessor:o(u),data:[f[0]],names:f.map(function(e){return e.name}),colors:s,labels:u,col:s(0),color_string:t.string,translate:function(e){var t,n;return t=e[0],n=e[1],"translate("+Math.floor(1.2*t)+", "+Math.floor(1.2*n)+")"},x:function(e){var t,n;return t=e[0],n=e[1],t},y:function(e){var t,n;return t=e[0],n=e[1],n},lighten:function(e){return t.string(t.lighten(e))}}}),l.observe("name",function(e){return this.animate({data:[f[e]],col:s(parseInt(e))})})})}.call(this),function(){define("app",["views/pie","views/stock","views/radar"],function(){return console.log("app loaded")})}.call(this)})();